(this["webpackJsonptapis-ui-cra"]=this["webpackJsonptapis-ui-cra"]||[]).push([[0],{104:function(e,t,n){e.exports={root:"Section_root__oT5mq",messages:"Section_messages__1MPS4",header:"Section_header__2Nj4s",content:"Section_content__23BLV"}},105:function(e,t,n){e.exports={root:"SectionHeader_root__2kXRe",heading:"SectionHeader_heading__UPEP-","for-form":"SectionHeader_for-form__2aqji","for-table":"SectionHeader_for-table__3uH99"}},106:function(e,t,n){e.exports={input:"CopyButton_input__3oXnS bootstrap_form_form-control__3JyGg","copy-button":"CopyButton_copy-button__3EjZN c-button_c-button--secondary__22Cay","is-copied":"CopyButton_is-copied__718oW",button__icon:"CopyButton_button__icon__1g2Y0 c-button_c-button__icon--before__2PDTf"}},108:function(e,t,n){e.exports={"layout-root":"PageLayout_layout-root__FslDW","layout-row":"PageLayout_layout-row__3jGem",constrain:"PageLayout_constrain__ykrk3"}},109:function(e,t,n){e.exports={header:"Collapse_header__1_MCS",controls:"Collapse_controls__2yEk7",expand:"Collapse_expand__30LD1"}},130:function(e,t,n){e.exports={container:"Expand_container__3sl_d",summary:"Expand_summary__34ijc",header:"Expand_header__25VB9"}},132:function(e,t,n){e.exports={wrapper:"SubmitWrapper_wrapper__3HLGZ","loading-spinner":"SubmitWrapper_loading-spinner__24zAp",reverse:"SubmitWrapper_reverse__rt176"}},134:function(e,t,n){e.exports={"transfer-list":"TransferListing_transfer-list__3dWTu",selected:"TransferListing_selected__39zTf",link:"TransferListing_link__1d1go",selectable:"TransferListing_selectable__IQrXG"}},135:function(e,t,n){e.exports={"system-list":"SystemListing_system-list__1AbHy",selected:"SystemListing_selected__2R8HQ",link:"SystemListing_link__1IJy2"}},136:function(e,t,n){e.exports={tab:"Tabs_tab__3sagy",active:"Tabs_active__DkH7u",pane:"Tabs_pane__1GuLn"}},157:function(e,t,n){e.exports={root:"SectionContent_root__1FxyJ","should-scroll":"SectionContent_should-scroll__3dKfI","should-debug-layout":"SectionContent_should-debug-layout__LG4ti"}},158:function(e,t,n){e.exports={clamped:"ReadMore_clamped__1L0vp",expanded:"ReadMore_expanded__3Wo7t"}},159:function(e,t,n){e.exports={nospace:"FormikCheck_nospace__18S9a"}},163:function(e,t,n){e.exports={"file-list":"FileExplorer_file-list__2qwEM","nav-list":"FileExplorer_nav-list__18Pqu"}},164:function(e,t,n){e.exports={json:"JSONDisplay_json__30aIw",controls:"JSONDisplay_controls__28heq"}},165:function(e,t,n){e.exports={"scheduler-option":"SchedulerOptions_scheduler-option__3LPSB","scheduler-option-list":"SchedulerOptions_scheduler-option-list__3w7ll"}},166:function(e,t,n){e.exports={"scheduler-option":"SchedulerOptions_scheduler-option__26ljV","scheduler-option-list":"SchedulerOptions_scheduler-option-list__3lnS1"}},214:function(e,t,n){e.exports={root:"Sidebar_root__XkIbE"}},216:function(e,t,n){e.exports={root:"SectionMessages_root__31Az9"}},217:function(e,t,n){e.exports={"one-row":"SectionContent_layouts_one-row__2bgYF","one-column":"SectionContent_layouts_one-column__1WdLz","two-column":"SectionContent_layouts_two-column__3n1EU"}},219:function(e,t,n){e.exports={container:"DropdownSelector_container___L3s8 bootstrap_form_form-control__3JyGg"}},220:function(e,t,n){e.exports={root:"Pill_root__20jYh","should-truncate":"Pill_should-truncate__3G_4O","is-danger":"Pill_is-danger__RWDLI","is-success":"Pill_is-success__3i8Z2","is-warning":"Pill_is-warning__2ghgs","is-normal":"Pill_is-normal__3e2Uh"}},257:function(e,t,n){},258:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},262:function(e,t,n){},39:function(e,t,n){e.exports={array:"FieldArray_array__1FdXA",item:"FieldArray_item__3igsS","array-group":"FieldArray_array-group__TnXNf",description:"FieldArray_description__3gmsr"}},47:function(e,t,n){e.exports={array:"FieldArray_array__27N-8",item:"FieldArray_item__2MD2S","array-group":"FieldArray_array-group__3lNaZ",description:"FieldArray_description__3rTJc"}},60:function(e,t,n){e.exports={container:"Wizard_container__3nypl","step-summary":"Wizard_step-summary__3jbjG",name:"Wizard_name__3gSp9",content:"Wizard_content__2MstC",edit:"Wizard_edit__afhEW",step:"Wizard_step__22G1J",controls:"Wizard_controls__3LG1r",submit:"Wizard_submit__2MBIS"}},73:function(e,t,n){e.exports={container:"Message_container__PHGJX","is-scope-inline":"Message_is-scope-inline__2uX3B","is-scope-section":"Message_is-scope-section__2DGew",text:"Message_text__11RO7","type-icon":"Message_type-icon__26GVH","close-button":"Message_close-button__22u4_","is-info":"Message_is-info__3EBl2",icon:"Message_icon__1I81B","is-warn":"Message_is-warn__2B5bs","is-error":"Message_is-error__ILOSU","is-success":"Message_is-success__xT7pL"}},74:function(e,t,n){e.exports={"array-entry":"DescriptionList_array-entry__2R02r",container:"DescriptionList_container__3IZeA","is-horz":"DescriptionList_is-horz__2TeOi",key:"DescriptionList_key__2XuAI",value:"DescriptionList_value__1nG0K","is-narrow":"DescriptionList_is-narrow__ikNw_","is-wide":"DescriptionList_is-wide__FobkI","is-vert":"DescriptionList_is-vert__2JNuC"}},84:function(e,t,n){e.exports={root:"Paginator_root__1z-Ua",endcap:"Paginator_endcap__2RO8F","page-root":"Paginator_page-root__3Gjsi",page:"Paginator_page__PkH6m",current:"Paginator_current__82eHE"}},85:function(e,t,n){e.exports={cards:"Dashboard_cards__2FNuR",card:"Dashboard_card__1MOwv","card-header":"Dashboard_card-header__1gMPI","card-footer":"Dashboard_card-footer__ByrWr",header:"Dashboard_header__2o3jP"}},851:function(e,t,n){},852:function(e,t,n){},853:function(e,t,n){},86:function(e,t,n){e.exports={"notification-toast-container":"NotificationToast_notification-toast-container__3v4Cz","MuiSnackbar-anchorOriginBottomLeft":"NotificationToast_MuiSnackbar-anchorOriginBottomLeft__gSrzM","notification-toast":"NotificationToast_notification-toast__3Usjp","MuiSnackbarContent-root":"NotificationToast_MuiSnackbarContent-root__3IttC","toast-is-error":"NotificationToast_toast-is-error__1BIGF","notification-toast-body":"NotificationToast_notification-toast-body__wL5Kk","MuiSnackbarContent-message":"NotificationToast_MuiSnackbarContent-message__2I5ZD","notification-toast-icon-wrapper":"NotificationToast_notification-toast-icon-wrapper__2KxSt","notification-toast-content":"NotificationToast_notification-toast-content__YS-pU"}},87:function(e,t){},871:function(e,t,n){},872:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"DASHBOARD",(function(){return E})),n.d(i,"DATA",(function(){return F})),n.d(i,"ALLOCATIONS",(function(){return D})),n.d(i,"APPLICATIONS",(function(){return q})),n.d(i,"HISTORY",(function(){return J})),n.d(i,"ACCOUNT",(function(){return B})),n.d(i,"TICKETS",(function(){return U})),n.d(i,"UI",(function(){return R}));var r=n(1),o=n.n(r),a=n(42),s=n.n(a),c=n(38),l=n(11),u={basePath:""},d=o.a.createContext(u),j=n(53),b=n.n(j),m=n(77),p=n(893),v=n(129),f=n.n(v),h=n(213),O=function(){var e=Object(r.useContext)(d).basePath,t=function(){var e=f.a.get("tapis-token");if(e)return JSON.parse(e)},n=Object(p.a)("tapis-token",t,{initialData:function(){return t()}}),i=n.data,o=n.refetch;return{basePath:e,accessToken:i,setAccessToken:function(){var e=Object(m.a)(b.a.mark((function e(t){var n,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return f.a.remove("tapis-token"),e.next=4,o();case 4:return e.abrupt("return");case 5:return i=new Date(null!==(n=t.expires_at)&&void 0!==n?n:0),f.a.set("tapis-token",JSON.stringify(t),{expires:i}),e.next=9,o();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),claims:(null===i||void 0===i?void 0:i.access_token)?Object(h.a)(null===i||void 0===i?void 0:i.access_token):{}}},x=n(920),_=n(117),y=n(0),g=function(e){e.token;var t=e.basePath,n=e.children,i={basePath:t},r=new x.a;return Object(y.jsx)(d.Provider,{value:i,children:Object(y.jsx)(_.a,{client:r,children:n})})},S=n(214),N=n.n(S),T=n(19),A=n(921),C=n(215),k=(n(94),n(6)),P=n(18),L=(n(923),n(894),n(895),n(896),n(897)),I=(n(257),function(e){var t=e.placement,n=e.className;return Object(y.jsx)("div",{className:"loading-icon ".concat(n),"data-testid":"loading-spinner",children:Object(y.jsx)(L.a,{className:t})})});I.defaultProps={placement:"section",className:""};var M=I,w=n(32),E="This page allows you to monitor your job status, get help with tickets, and view the status of the High Performance Computing (HPC) systems.",F="This page allows you to upload and manage your files.",D="This page allows you to monitor the status of allocations on the HPC systems and view a breakdown of team usage.",q="This page allows you to submit jobs to the HPC systems or access Cloud services using a variety of applications.",J="This page allows you to monitor a log of all previous job submissions.",B="This page allows you to manage your account profile, change your password and view software licenses.",U="This page allows you to submit a help request via an RT Ticket.",R="This hidden page allows developers to review UI components in isolation.",Q=n(216),V=n.n(Q);n(258);function H(e){var t=e.children,n=e.className,o=e.routeName,a=e.welcomeText||i[o],s=o||a,c=a&&Object(y.jsx)(Ke,{messageName:s,children:a}),l=Xe(o)||t.length>0,u="has-message";return Object(r.useEffect)((function(){l?document.body.classList.add(u):document.body.classList.remove(u)}),[l]),Object(y.jsxs)("aside",{className:"".concat(V.a.root," ").concat(n),children:[c,t]})}H.defaultProps={children:"",className:"",routeName:"",welcomeText:""};var z=H,W=n(157),G=n.n(W),X=n(217),Y=n.n(X),K={oneRow:"one-row",oneColumn:"one-column",twoColumn:"two-column"};Object(T.a)(Object.keys(K));function Z(e){var t,n=e.className,i=e.children,r=e.layoutName,o=e.shouldScroll,a=e.shouldDebugLayout,s=e.tagName,c=["styles.root"],l=K[r],u=s;return o&&c.push(G.a["should-scroll"]),a&&c.push(G.a["should-debug-layout"]),l&&c.push(Y.a[l]),t=c.join(" "),Object(y.jsx)(u,{className:"".concat(n," ").concat(t),children:i})}Z.defaultProps={className:"",shouldScroll:!1,shouldDebugLayout:!1,tagName:"div"};var $=Z,ee=n(104),te=n.n(ee);function ne(e){var t,n=e.bodyClassName,i=e.children,o=e.className,a=e.content,s=e.contentClassName,c=e.contentLayoutName,l=e.contentShouldScroll,u=e.header,d=e.headerActions,j=e.headerClassName,b=e.manualContent,m=e.manualHeader,p=e.messages,v=e.messagesClassName,f=e.routeName,h=e.welcomeMessageText,O=u||j||d;if(b&&(a||s||c||l))throw new Error("When passing `manualContent`, the following props are ineffectual: `content`, `contentClassName`, `contentLayoutName`, `contentShouldScroll`");if(m&&(u||j||d))throw new Error("When passing `manualHeader`, the following props are ineffectual: `header`, `headerClassName`, `headerActions`");return Object(r.useEffect)((function(){return n&&document.body.classList.add(n),function(){n&&document.body.classList.remove(n)}}),[n]),Object(y.jsxs)("section",{className:"".concat(o," ").concat(te.a.root),children:[Object(y.jsx)(z,(t={className:te.a.messages,routeName:f},Object(w.a)(t,"className",v),Object(w.a)(t,"welcomeText",h),Object(w.a)(t,"children",p),t)),m?Object(y.jsx)(y.Fragment,{children:m}):O&&Object(y.jsx)(ae,{className:"".concat(j," ").concat(te.a.header),actions:d,children:u}),b?Object(y.jsxs)(y.Fragment,{children:[b,i]}):Object(y.jsxs)($,{tagName:"main",className:"".concat(s," ").concat(te.a.content),layoutName:c||"oneRow",shouldScroll:l,children:[a,i]})]})}ne.defaultProps={bodyClassName:"",children:"",className:"",content:"",contentClassName:"",contentLayoutName:"",contentShouldScroll:!1,header:"",headerActions:"",headerClassName:"",manualContent:void 0,manualHeader:void 0,messages:"",messagesClassName:"",routeName:"",welcomeMessageText:""};var ie=n(105),re=n.n(ie);function oe(e){var t,n=e.actions,i=e.children,r=e.className,o=e.isForForm,a=e.isForTable,s=[re.a.root],c=o||a?"h3":"h2";return o&&s.push(re.a["for-form"]),a&&s.push(re.a["for-table"]),t=s.join(" "),Object(y.jsxs)("header",{className:"".concat(t," ").concat(r),children:[i&&Object(y.jsx)(c,{className:re.a.heading,children:i}),n]})}oe.defaultProps={actions:"",className:"",children:"",isForForm:!1,isForTable:!1};var ae=oe,se=(n(87),n(218)),ce=(n(260),function(e){return e.isLoading?Object(y.jsx)("tr",{className:"-status",children:Object(y.jsx)("td",{children:Object(y.jsx)(M,{placement:"inline"})})}):null}),le=function(e){var t=e.display,n=e.noDataText;return t?Object(y.jsx)("tr",{className:"-status",children:Object(y.jsx)("td",{children:Object(y.jsx)("span",{className:"-status__message",children:n})})}):null},ue=function(e){var t=e.tableColumns,n=e.tableData,i=e.onInfiniteScroll,r=e.isLoading,a=e.className,s=e.noDataText,c=e.getRowProps,l=e.columnMemoProps,u=o.a.useMemo((function(){return t}),[l,t]),d=o.a.useMemo((function(){return n}),[n]),j=Object(se.useTable)({columns:u,data:d}),b=j.getTableProps,m=j.getTableBodyProps,p=j.headerGroups,v=j.rows,f=j.prepareRow;return Object(y.jsxs)("table",Object(k.a)(Object(k.a)({},b()),{},{className:"".concat(a," InfiniteScrollTable"),children:[Object(y.jsx)("thead",{children:p.map((function(e){return Object(y.jsx)("tr",Object(k.a)(Object(k.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(y.jsx)("th",Object(k.a)(Object(k.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(y.jsxs)("tbody",Object(k.a)(Object(k.a)({},m()),{},{onScroll:function(e){var t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&t.scrollTop>0&&i(n.length)},children:[v.map((function(e){return f(e),Object(y.jsx)("tr",Object(k.a)(Object(k.a)(Object(k.a)({},e.getRowProps()),c(e)),{},{children:e.cells.map((function(e){return Object(y.jsx)("td",Object(k.a)(Object(k.a)({},e.getCellProps({className:e.column.className})),{},{children:e.render("Cell")}))}))}))})),Object(y.jsx)(ce,{isLoading:r}),Object(y.jsx)(le,{display:!r&&0===n.length,noDataText:s})]}))]}))};ue.defaultProps={onInfiniteScroll:function(e){},isLoading:!1,className:"",noDataText:"",getRowProps:function(e){},columnMemoProps:[]};var de=n(898),je=n(899),be=n(900),me=n(901),pe=(n(261),function(e){var t=e.children,n=e.className,i=e.name,r="icon icon-".concat(i),o=n?[n,r].join(" "):r,a=t;return Object(y.jsx)("i",{className:o,role:"img","aria-label":a})});pe.defaultProps={children:"",className:""};var ve=pe,fe=(n(262),n(130)),he=n.n(fe),Oe=function(e){var t,n=e.className,i=e.detail,o=e.message,a=Object(r.useState)(!1),s=Object(l.a)(a,2),c=s[0],u=s[1],d=Object(r.useCallback)((function(){u(!c)}),[c,u]);return Object(y.jsxs)(de.a,(t={className:he.a.container},Object(w.a)(t,"className",n),Object(w.a)(t,"tag","div"),Object(w.a)(t,"children",[Object(y.jsxs)(je.a,{className:he.a.summary,onClick:d,tag:"div",children:[Object(y.jsx)("strong",{className:he.a.header,children:i}),Object(y.jsx)(ve,{name:c?"collapse":"expand"})]}),Object(y.jsx)(be.a,{isOpen:c,children:Object(y.jsx)(me.a,{children:o})})]),t))};Oe.defaultProps={className:""};var xe=n(58),_e=n(73),ye=n.n(_e),ge="For a <(Section)Message> to use `canDismiss`, `scope` must equal `section`.",Se='In a <(Section|Inline)Message> `type="warn"` is deprecated. Use `type="warning"` instead.',Ne='A <Message> without a `scope` should become an <InlineMessage>. (If <Message> must be used, then explicitely set `scope="inline"`.)',Te={info:{iconName:"conversation",className:"is-info",iconText:"Notice"},success:{iconName:"approved-reverse",className:"is-success",iconText:"Notice"},warning:{iconName:"alert",className:"is-warn",iconText:"Warning"},error:{iconName:"alert",className:"is-error",iconText:"Error"}};Te.warn=Te.warning;Object.keys(Te);var Ae={inline:{className:"is-scope-inline",role:"status",tagName:"span"},section:{className:"is-scope-section",role:"status",tagName:"p"}},Ce=([""].concat(Object(T.a)(Object.keys(Ae))),function(e){var t=e.children,n=e.className,i=e.onDismiss,r=e.canDismiss,o=e.isVisible,a=e.scope,s=e.type,c=Te[s],l=Ae[a||"inline"],u=c.iconName,d=c.iconText,j=c.className,b=l.role,m=l.tagName,p=l.className,v="section"===a;r&&!v&&console.error(ge),"warn"===s&&console.info(Se),a||console.info(Ne);var f=[];f.push(j),f.push(p);var h=["container"].concat(f).map((function(e){return ye.a[e]})).join(" "),O=Object(k.a)(Object(k.a)({},xe.a.defaultProps),{},{unmountOnExit:!0,baseClass:"",timeout:0});return Object(y.jsxs)(xe.a,Object(k.a)(Object(k.a)({},O),{},{tag:m,className:"".concat(n," ").concat(h),role:b,in:o,children:[Object(y.jsx)(ve,{className:"".concat(ye.a.icon," ").concat(ye.a["type-icon"]),name:u,children:d}),Object(y.jsx)("span",{className:ye.a.text,"data-testid":"text",children:t}),r&&v?Object(y.jsx)("button",{type:"button",className:ye.a["close-button"],"aria-label":"Close",onClick:i,children:Object(y.jsx)(ve,{className:"".concat(ye.a.icon," ").concat(ye.a["close-icon"]),name:"close"})}):null]}))});Ce.defaultProps={className:"",canDismiss:!1,isVisible:!0,onDismiss:function(){},scope:""};var ke=Ce,Pe=function(e){var t=Object(k.a)(Object(k.a)(Object(k.a)({},ke.defaultProps),e),{},{canDismiss:!1,scope:"inline"});return Object(y.jsx)(ke,Object(k.a)({},t))};Pe.defaultProps=ke.defaultProps;var Le=function(e){var t=Object(r.useState)(!0),n=Object(l.a)(t,2),i=n[0],o=n[1],a=Object(r.useCallback)((function(){o(!i)}),[i]),s=Object(k.a)(Object(k.a)(Object(k.a)({},ke.defaultProps),e),{},{isVisible:i,onDismiss:a,scope:"section"});return Object(y.jsx)(ke,Object(k.a)({},s))};Le.defaultProps=ke.defaultProps;var Ie=Le,Me=n(74),we=n.n(Me),Ee={vertical:"is-vert",horizontal:"is-horz"},Fe="vertical",De=([""].concat(Object(T.a)(Object.keys(Ee))),{compact:"is-narrow",default:"is-wide"}),qe="default",Je=([""].concat(Object(T.a)(Object.keys(De))),function(e){var t=e.value;return 0===t.length?Object(y.jsx)("dd",{className:we.a.value,children:Object(y.jsx)("i",{children:"None"})}):Object(y.jsx)("dl",{children:t.map((function(e,t){return Object(y.jsxs)("div",{className:we.a["array-entry"],children:[Object(y.jsx)("dt",{className:we.a.key,children:Object(y.jsx)("i",{children:t})}),Object(y.jsx)("dd",{className:we.a.value,"data-testid":"value",children:Object(y.jsx)(Be,{value:e})})]},Object(A.a)())}))})}),Be=function(e){var t=e.value;return void 0===t?Object(y.jsx)("i",{children:"Undefined"}):Array.isArray(t)?Object(y.jsx)(Je,{value:t}):t instanceof Set?Object(y.jsx)(Je,{value:Array.from(t)}):"object"===typeof t?Object(y.jsx)(Ue,{data:t}):"string"===typeof t?Object(y.jsx)(y.Fragment,{children:t}):Object(y.jsx)(y.Fragment,{children:JSON.stringify(t)})},Ue=function(e){var t=e.className,n=e.data,i=e.density,r=e.direction,a=[];a.push(De[i||qe]),a.push(Ee[r||Fe]);var s=["container"].concat(a).map((function(e){return we.a[e]})).join(" "),c=Object.entries(n);return 0===c.length?Object(y.jsx)("div",{children:Object(y.jsx)("i",{children:"Empty object"})}):Object(y.jsx)("dl",{className:"".concat(t," ").concat(s),"data-testid":"list",children:c.map((function(e){var t=Object(l.a)(e,2),n=t[0],i=t[1];return Object(y.jsxs)(o.a.Fragment,{children:[Object(y.jsx)("dt",{className:we.a.key,"data-testid":"key",children:n}),Object(y.jsx)("dd",{className:we.a.value,"data-testid":"value",children:Object(y.jsx)(Be,{value:i})})]},n)}))})};Ue.defaultProps={className:"",density:qe,direction:Fe};var Re=Ue,Qe=n(902),Ve=n(219),He=n.n(Ve),ze=["type","onChange"],We=function(e){var t=e.type,n=e.onChange,i=Object(P.a)(e,ze),r="multiple"===t;return Object(y.jsx)(Qe.a,Object(k.a)(Object(k.a)({},i),{},{onChange:n,type:"select",className:He.a.container,multiple:r,"data-testid":"selector"}))};We.defaultProps={type:"single",onChange:function(){}};var Ge=n(903);function Xe(e){var t={};return t&&t[e]}function Ye(e){var t=e.children,n=e.className,i=e.messageName,r=Xe(i),o={};return Object(y.jsx)(Ge.a,{isOpen:r,toggle:function(){return e=i,Object(k.a)(Object(k.a)({},o),{},Object(w.a)({},e,!1));var e},color:"secondary",className:n,children:t})}Ye.defaultProps={className:""};var Ke=Ye,Ze=n(220),$e=n.n(Ze);function et(e){var t=e.children,n=e.type,i=e.className,r=e.shouldTruncate,o="root is-".concat(n);return r&&(o+=" should-truncate"),Object(y.jsx)("span",{className:"".concat($e.a[o]," ").concat(i),children:t})}et.defaultProps={type:"normal",className:"",shouldTruncate:!0};var tt=n(119),nt=n(95),it=n.n(nt),rt=function(e){var t=e.value,n=e.placeholder,i=Object(r.useState)(!1),o=Object(l.a)(i,2),a=o[0],s=o[1],c=Object(r.useCallback)((function(){s(!0);var e=setTimeout((function(){s(!1),clearTimeout(e)}),1150)}),[s,1.15]),u=!t||0===t.length;return Object(y.jsxs)("div",{className:"input-group",children:[Object(y.jsx)("div",{className:"input-group-prepend",children:Object(y.jsx)(tt.CopyToClipboard,{text:t,children:Object(y.jsxs)(C.a,{className:"".concat(it.a["copy-button"]," ").concat(a?it.a["is-copied"]:""),style:{"--transition-duration":"".concat(.15,"s")},onClick:c,disabled:u,type:"button",children:[Object(y.jsx)(ve,{name:a?"approved-reverse":"link",className:it.a.button__icon}),Object(y.jsx)("span",{className:it.a.button__text,children:"Copy"})]})})}),Object(y.jsx)("input",{type:"text",onChange:function(e){e.preventDefault()},value:t,className:"form-control ".concat(it.a.input),placeholder:n,"data-testid":"input",readOnly:!0})]})};rt.defaultProps={value:"",placeholder:""};var ot=n(221),at=n(158),st=n.n(at),ct=function(e){var t=e.className,n=e.children,i=Object(r.useState)(!1),o=Object(l.a)(i,2),a=o[0],s=o[1],c=Object(r.useCallback)((function(){s(!a)}),[a,s]),u=Object(ot.a)(),d=u.height,j=u.ref,b=!(!j||!j.current)&&j.current.scrollHeight>d;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"".concat(a?st.a.expanded:st.a.clamped," ").concat(t),ref:j,children:n}),(b||a)&&Object(y.jsx)(C.a,{color:"link",onClick:c,children:a?"Read Less":"Read More"})]})};ct.defaultProps={className:""};var lt=n(84),ut=n.n(lt),dt=function(e){var t=e.number,n=e.callback,i=e.current;return Object(y.jsx)("div",{className:ut.a["page-root"],children:Object(y.jsx)(C.a,{className:"".concat(ut.a.page," ").concat(t===i?ut.a.current:""),onClick:function(){return n(t)},children:t})})},jt=function(e){var t,n,i=e.pages,r=e.current,o=e.callback,a=e.spread;if(1===i)n=0,t=1;else if(i>2&&i<=a)t=2,n=i-1;else if(i>a&&r<=4)t=2,n=a-1;else if(i>a&&r>i-(a-2))t=i-(a-2),n=i-1;else{var s=Math.floor((a-2)/2);t=r-s,n=r+s}var c=n-t+1,l=c>0?Array(c).fill().map((function(e,n){return t+n})):[];return Object(y.jsxs)("div",{className:ut.a.root,children:[Object(y.jsx)(C.a,{color:"link",className:ut.a.root,onClick:function(){return o(r-1)},disabled:1===r,children:Object(y.jsx)("span",{children:"< Previous"})}),Object(y.jsx)(dt,{number:1,callback:o,current:r}),l[0]>2&&Object(y.jsx)("span",{children:"..."}),l.map((function(e){return Object(y.jsx)(dt,{number:e,current:r,callback:o},e)})),l[l.length-1]<i-1&&Object(y.jsx)("span",{children:"..."}),i>1&&Object(y.jsx)(dt,{number:i,callback:o,current:r}),Object(y.jsx)(C.a,{color:"link",className:ut.a.endcap,onClick:function(){return o(r+1)},disabled:r===i,children:Object(y.jsx)("span",{children:"Next >"})})]})};jt.defaultProps={spread:11};var bt=n(37),mt=["children"];var pt=function(e){var t=e.children,n=Object(P.a)(e,mt),i=O().accessToken;return Object(y.jsx)(bt.b,Object(k.a)(Object(k.a)({},n),{},{render:function(e){var n=e.location;return i?t:Object(y.jsx)(bt.a,{to:{pathname:"/login",state:{from:n}}})}}))},vt=n(106),ft=n.n(vt),ht=function(e){var t=e.value,n=e.className,i=Object(r.useState)(!1),o=Object(l.a)(i,2),a=o[0],s=o[1],c=Object(r.useCallback)((function(){s(!0);var e=setTimeout((function(){s(!1),clearTimeout(e)}),1150)}),[s,1.15]),u=!t||0===t.length;return Object(y.jsx)(tt.CopyToClipboard,{text:t,children:Object(y.jsxs)(C.a,{className:"".concat(ft.a["copy-button"]," ").concat(a?ft.a["is-copied"]:""," ").concat(n),style:{"--transition-duration":"".concat(.15,"s")},onClick:c,disabled:u,type:"button",size:"sm",children:[Object(y.jsx)(ve,{name:a?"approved-reverse":"copy",className:ft.a.button__icon}),Object(y.jsx)("span",{className:ft.a.button__text,children:"Copy"})]})})};ht.defaultProps={value:"",className:""};var Ot=ht,xt=n(904),_t=n(905),yt=n(906),gt=n(907),St=n(92),Nt=n.n(St),Tt=n(16),At=function(e){var t=e.name,n=e.label,i=e.required,r=e.description,o=e.isHidden,a=void 0!==o&&o,s=e.as,c=Object(Tt.i)(t),u=Object(l.a)(c,2)[1];return Object(y.jsx)(xt.a,{children:Object(y.jsxs)("span",{className:a?Nt.a.hidden:"",children:[Object(y.jsxs)(_t.a,{className:"form-field__label",size:"sm",style:{display:"flex",alignItems:"center"},htmlFor:t,children:[n,i&&!a?Object(y.jsx)(yt.a,{color:"danger",style:{marginLeft:"10px"},children:"Required"}):null]}),Object(y.jsx)(Tt.b,{name:t,as:s,id:t}),u.error&&Object(y.jsx)(gt.a,{className:Nt.a["form-field__help"],color:"danger",children:u.error}),r&&!u.error&&Object(y.jsx)(gt.a,{className:Nt.a["form-field__help"],color:"muted",children:r})]})})},Ct=["name","label","required","description"],kt=function(e){var t=e.name,n=e.label,i=e.required,r=e.description,o=Object(P.a)(e,Ct);return Object(y.jsx)(At,{name:t,label:n,required:i,description:r,isHidden:o.type&&"hidden"===o.type,as:function(e){return Object(y.jsx)(Qe.a,Object(k.a)(Object(k.a)({bsSize:"sm"},o),e))}})},Pt=o.a.memo(kt),Lt=n(131),It=n.n(Lt);function Mt(e,t,n,i){var r=e.setValues,o=e.validateForm,a=e.validateOnChange,s=e.setFieldValue,c=e.values;if(void 0===n){var l=function(e,t,n){for(var i=It.a.clone(e),r=i,o=0,a=It.a.toPath(t);o<a.length-1;o++){var s=a[o],c=Object(Tt.f)(e,a.slice(0,o+1));if(c&&(Object(Tt.h)(c)||Array.isArray(c)))r=r[s]=It.a.clone(c);else{var l=a[o+1];r=r[s]=Object(Tt.g)(l)&&Number(l)>=0?[]:{}}}if((0===o?e:r)[a[o]]===n)return e;r[a[o]]=void 0===n?void 0:n;0===o&&void 0===n&&(i[a[o]]=void 0);return i}(c,t,void 0);r(l),(void 0===i?a:i)&&o(l)}else s(t,n,i)}var wt=["name","label","required","description","children"],Et=["onChange"],Ft=function(e){var t=e.name,n=e.label,i=e.required,r=e.description,o=e.children,a=Object(P.a)(e,wt),s=Object(Tt.j)();return Object(y.jsx)(At,{name:t,label:n,required:i,description:r,as:function(e){e.onChange;var n=Object(P.a)(e,Et);return Object(y.jsx)(Qe.a,Object(k.a)(Object(k.a)(Object(k.a)({bsSize:"sm",type:"select",onChange:function(e){Mt(s,t,""===e.target.value?void 0:e.target.value)}},a),n),{},{children:o}))}})},Dt=n(159),qt=n.n(Dt),Jt=["name","label","required","description"],Bt=function(e){var t=e.name,n=e.label,i=(e.required,e.description),r=Object(P.a)(e,Jt);return Object(y.jsxs)(xt.a,{check:!0,children:[Object(y.jsxs)(_t.a,{check:!0,className:"form-field__label ".concat(qt.a.nospace),size:"sm",children:[Object(y.jsx)(Tt.b,{name:t,as:function(e){var t;return Object(y.jsx)(Qe.a,Object(k.a)(Object(k.a)(Object(k.a)({bsSize:null!==(t=r.bsSize)&&void 0!==t?t:"sm",type:"checkbox"},r),e),{},{checked:e.value}))}}),n]}),Object(y.jsx)(gt.a,{className:"form-field__help ".concat(qt.a.nospace),color:"muted",children:i})]})},Ut=(n(908),n(926),n(924),n(5)),Rt=function(e,t,n,i){var r={};return i&&(r["X-Tapis-Token"]=i),new t(new e.Configuration({basePath:n,headers:r}))},Qt=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.json){e.next=16;break}return e.next=12,e.t0.json();case 12:throw e.sent;case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Vt=(n(226),n(227),n(925)),Ht=function(e){var t,n=e.isLoading,i=e.error,r=e.children,o=e.className,a=void 0===o?"":o;return n?Object(y.jsx)("div",{className:a,children:Object(y.jsx)(M,{})}):i?Object(y.jsx)("div",{className:a,children:Object(y.jsx)(ke,{canDismiss:!1,type:"error",scope:"inline",children:null!==(t=i.message)&&void 0!==t?t:i})}):Object(y.jsx)("div",{className:a,children:r})},zt=n(132),Wt=n.n(zt),Gt=function(e){var t,n=e.isLoading,i=e.error,r=e.success,o=e.children,a=e.className,s=void 0===a?"":a,c=e.reverse,l=void 0!==c&&c;return Object(y.jsxs)("div",{className:"".concat(s," ").concat(Wt.a.wrapper," ").concat(l&&Wt.a.reverse),children:[o,n&&Object(y.jsx)(M,{className:Wt.a["loading-spinner"],placement:"inline"}),i?Object(y.jsx)(ke,{canDismiss:!1,type:"error",scope:"inline",children:null!==(t=null===i||void 0===i?void 0:i.message)&&void 0!==t?t:i}):r&&Object(y.jsx)(ke,{canDismiss:!1,type:"success",scope:"inline",children:r})]})};n(228),n(60);n(133),n(160),n(161),n(96),n(68);var Xt,Yt=n(10),Kt=(n(134),n(123),function(e,t,n){var i=Rt(Ut.Systems,Ut.Systems.SystemsApi,t,n);return Qt((function(){return i.getSystems(e)}))}),Zt=function(e,t,n){var i=Rt(Ut.Systems,Ut.Systems.SystemsApi,t,n);return Qt((function(){return i.getSystem(e)}))},$t=function(e,t){var n=Rt(Ut.Systems,Ut.Systems.SchedulerProfilesApi,e,t);return Qt((function(){return n.getSchedulerProfiles()}))},en={list:"systems/list",details:"systems/details",listSchedulerProfiles:"systems/listScehdulerProfiles"},tn={},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(),i=n.accessToken,r=n.basePath,o=Object(p.a)([en.list,e,i],(function(){return Kt(e,r,(null===i||void 0===i?void 0:i.access_token)||"")}),Object(k.a)(Object(k.a)({},t),{},{enabled:!!i}));return o},rn=function(e){var t=O(),n=t.accessToken,i=t.basePath,r=Object(p.a)([en.details,e,n],(function(){var t;return Zt(e,i,null!==(t=null===n||void 0===n?void 0:n.access_token)&&void 0!==t?t:"")}),{enabled:!!n});return r},on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=O(),n=t.accessToken,i=t.basePath,r=Object(p.a)([en.listSchedulerProfiles,n],(function(){return $t(i,(null===n||void 0===n?void 0:n.access_token)||"")}),Object(k.a)(Object(k.a)({},e),{},{enabled:!!n}));return r},an=function(e){var t=e.systemId,n=rn({systemId:t,select:"allAttributes"}),i=n.data,r=n.isLoading,o=n.error,a=null===i||void 0===i?void 0:i.result;return Object(y.jsxs)(Ht,{isLoading:r,error:o,children:[Object(y.jsx)("h3",{children:null===a||void 0===a?void 0:a.id}),a&&Object(y.jsx)(Pn,{tabs:{Details:Object(y.jsx)(Re,{data:a}),JSON:Object(y.jsx)(yn,{json:a})}})]})},sn=(n(135),n(163),n(851),n(108)),cn=n.n(sn),ln=function(e){var t=e.left,n=e.right,i=e.top,r=e.bottom,o=e.constrain;return Object(y.jsxs)("div",{className:"".concat(cn.a["layout-root"]," ").concat(o?cn.a.constrain:""),children:[i,Object(y.jsxs)("div",{className:"".concat(cn.a["layout-row"]," ").concat(o?cn.a.constrain:""),children:[t,n]}),r]})},un=n(97),dn=n.n(un),jn=function(e){var t=e.children,n=e.type;return Object(y.jsx)("div",{className:n&&dn.a[n],children:Object(y.jsx)(ae,{children:t})})},bn=function(e){var t=e.children;return Object(y.jsx)("div",{className:dn.a.nav,children:t})},mn=function(e){var t=e.children,n=e.constrain;return Object(y.jsx)("div",{className:"".concat(dn.a.body," ").concat(n?dn.a.constrain:""),children:Object(y.jsx)("div",{className:dn.a.detail,children:t})})},pn=n(109),vn=n.n(pn),fn=function(e){var t=e.title,n=e.note,i=e.open,o=e.requiredText,a=e.className,s=e.children,c=e.isCollapsable,u=void 0===c||c,d=Object(r.useState)(null!==i&&void 0!==i&&i),j=Object(l.a)(d,2),b=j[0],m=j[1],p=Object(r.useCallback)((function(){m(!b)}),[b,m]);return Object(y.jsxs)("div",{className:a,children:[Object(y.jsxs)("div",{className:vn.a.header,children:[Object(y.jsxs)("div",{className:vn.a.title,children:[t,o&&Object(y.jsx)(yt.a,{color:"danger",style:{marginLeft:"10px",marginBottom:"10px"},children:o})]}),Object(y.jsxs)("div",{className:vn.a.controls,children:[Object(y.jsx)("div",{children:null!==n&&void 0!==n?n:""}),u&&Object(y.jsx)(C.a,{color:"link",className:vn.a.expand,size:"sm",onClick:p,children:Object(y.jsx)(ve,{name:b?"collapse":"expand"})})]})]}),Object(y.jsx)(be.a,{isOpen:b||!u,children:s})]})},hn=n(164),On=n.n(hn),xn=function e(t){var n=JSON.parse(JSON.stringify(t));return Object.entries(n).forEach((function(t){var i=Object(l.a)(t,2),r=i[0],o=i[1];if(Array.isArray(o))0===o.length&&delete n[r];else if("object"!==typeof o)void 0===o&&delete n[r];else{var a=e(o);0===Object.entries(a).length?delete n[r]:n[r]=a}})),n},_n=function e(t){if(void 0!==t){if(Array.isArray(t))return t.map((function(t){return e(t)}));if(t instanceof Set)return Array.from(t).map((function(t){return e(t)}));if("object"===typeof t){var n={};return Object.entries(t).forEach((function(t){var i=Object(l.a)(t,2),r=i[0],o=i[1];n[r]=e(o)})),n}return JSON.parse(JSON.stringify(t))}},yn=function(e){var t=e.json,n=e.className,i=Object(r.useState)(!1),o=Object(l.a)(i,2),a=o[0],s=o[1],c=Object(r.useCallback)((function(){s(!a)}),[s,a]),u=Object(r.useMemo)((function(){return JSON.stringify(a?xn(_n(t)):_n(t),null,2)}),[t,a]);return Object(y.jsxs)("div",{className:n,children:[Object(y.jsxs)("div",{className:On.a.controls,children:[Object(y.jsx)(xt.a,{check:!0,children:Object(y.jsxs)(_t.a,{check:!0,size:"sm",className:"form-field__label",children:[Object(y.jsx)(Qe.a,{type:"checkbox",onChange:c}),"Simplified"]})}),Object(y.jsx)(Ot,{value:u})]}),Object(y.jsx)(Qe.a,{type:"textarea",value:u,className:On.a.json,rows:"20",disabled:!0})]})},gn=n(909),Sn=n(910),Nn=n(911),Tn=n(912),An=n(913),Cn=n(136),kn=n.n(Cn),Pn=function(e){var t,n=e.tabs,i=e.className,o=void 0===i?"":i,a=Object.keys(n),s=Object(r.useState)(null!==(t=a[0])&&void 0!==t?t:""),c=Object(l.a)(s,2),u=c[0],d=c[1],j=function(e){return"".concat(kn.a.tab," ").concat(u===e?kn.a.active:"")};return Object(y.jsxs)("div",{className:o,children:[Object(y.jsx)(gn.a,{tabs:!0,children:a.map((function(e){return Object(y.jsx)(Sn.a,{className:j(e),children:Object(y.jsx)(Nn.a,{onClick:function(){return d(e)},"data-testid":"tab-".concat(e),children:e})},"tab-".concat(e))}))}),Object(y.jsx)(Tn.a,{activeTab:u,children:a.map((function(e){return Object(y.jsx)(An.a,{tabId:e,className:kn.a.pane,children:n[e]},"tabcontent-".concat(e))}))})]})},Ln=n(98),In=n.n(Ln),Mn=function(e){var t=e.to,n=e.icon,i=e.children;return Object(y.jsx)(c.c,{to:t,className:In.a["nav-link"],activeClassName:In.a.active,exact:"/"===t,children:Object(y.jsxs)("div",{className:In.a["nav-content"],children:[n&&Object(y.jsx)(ve,{name:n}),Object(y.jsx)("span",{className:In.a["nav-text"],children:i})]})})},wn=function(e){var t=e.children;return Object(y.jsx)("div",{className:"".concat(In.a["nav-list"]),children:t})},En=function(){var e=O().accessToken;return Object(y.jsx)("div",{className:N.a.root,children:Object(y.jsxs)(wn,{children:[Object(y.jsx)(Mn,{to:"/",icon:"dashboard",children:"Dashboard"}),!e&&Object(y.jsx)(Mn,{to:"/login",icon:"user",children:"Login"}),e&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Mn,{to:"/apps",icon:"applications",children:"Notebooks"}),Object(y.jsx)(Mn,{to:"/jobs",icon:"jobs",children:"Jobs"})]})]})})},Fn=function(e,t,n){var i={reqCreateToken:{username:e,password:t,grant_type:"password"}},r=Rt(Ut.Authenticator,Ut.Authenticator.TokensApi,n,null);return Qt((function(){return r.createToken(i)}))},Dn={login:"authenticator/login"},qn=function(){var e=O(),t=e.setAccessToken,n=e.basePath,i=Object(Vt.a)([Dn.login,n],(function(e){var t=e.username,i=e.password;return Fn(t,i,n)}),{onSuccess:function(e){var n;t(null===e||void 0===e||null===(n=e.result)||void 0===n?void 0:n.access_token)}}),r=i.mutate;return{isLoading:i.isLoading,isError:i.isError,isSuccess:i.isSuccess,error:i.error,login:function(e,t){return r({username:e,password:t})},logout:function(){return t(null)}}},Jn=function(e,t,n){var i=Rt(Ut.Apps,Ut.Apps.ApplicationsApi,t,n);return Qt((function(){return i.getApps(e)}))},Bn=function(e,t,n){var i=Rt(Ut.Apps,Ut.Apps.ApplicationsApi,t,n);return Qt((function(){return i.getApp(e)}))},Un={list:"apps/list",create:"apps/create"},Rn={select:"jobAttributes,version"},Qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(),i=n.accessToken,r=n.basePath,o=Object(p.a)([Un.list,e,i],(function(){var t;return Jn(e,r,null!==(t=null===i||void 0===i?void 0:i.access_token)&&void 0!==t?t:"")}),Object(k.a)(Object(k.a)({},t),{},{enabled:!!i}));return o},Vn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(),i=n.accessToken,r=n.basePath,o=Object(p.a)([Un.list,e,i],(function(){var t;return Bn(Object(k.a)({},e),r,null!==(t=null===i||void 0===i?void 0:i.access_token)&&void 0!==t?t:"")}),Object(k.a)(Object(k.a)({},t),{},{enabled:!!i}));return o},Hn={id:"jupyter-lab-hpc",version:"0.7.8",description:"Run an interactive Jupyter Lab session on an HPC compute node. For the LLama Index Environment",owner:"${apiUserId}",enabled:!0,runtime:Ut.Apps.RuntimeEnum.Singularity,runtimeOptions:[Ut.Apps.RuntimeOptionEnum.SingularityRun],containerImage:"docker://ghcr.io/mosoriob/llmrepository-docker:sha-013877",jobType:Ut.Apps.JobTypeEnum.Batch,maxJobs:-1,maxJobsPerUser:-1,strictFileInputs:!0,jobAttributes:{execSystemExecDir:"${JobWorkingDir}/jobs/${JobUUID}",execSystemInputDir:"${JobWorkingDir}/jobs/${JobUUID}/input",execSystemOutputDir:"${JobWorkingDir}/jobs/${JobUUID}/output",maxMinutes:100,parameterSet:{containerArgs:[{name:"mount",description:"Mount a directory from the host into the container",inputMode:Ut.Apps.ArgInputModeEnum.Fixed,arg:"--bind /share"}],envVariables:[{key:"email"}]}},tags:["portalName: ALL"],notes:{label:"Jupyter Lab HPC (Frontera)",helpUrl:"https://jupyterlab.readthedocs.io/en/stable/",hideNodeCountAndCoresPerNode:!1,isInteractive:!0,icon:"jupyter",category:"Data Processing"}},zn=function(e,t,n){var i=Rt(Ut.Apps,Ut.Apps.ApplicationsApi,t,n);return Qt((function(){return i.createAppVersion({reqPostApp:e})}))},Wn=function(){var e=O(),t=e.basePath,n=e.accessToken,i=(null===n||void 0===n?void 0:n.access_token)||"",o=Object(Vt.a)([Un,t,i],(function(e){return zn(e,t,i)})),a=o.mutate,s=o.isLoading,c=o.isError,l=o.isSuccess,u=o.data,d=o.error,j=o.reset;return Object(r.useEffect)((function(){return j()}),[j]),{isLoading:s,isError:c,isSuccess:l,data:u,error:d,reset:j,submit:function(e){return a(e)}}},Gn=function(){var e=Wn(),t=e.isLoading,n=e.error,i=e.isSuccess,o=e.submit,a=(e.data,Object(r.useCallback)((function(){Hn.id="".concat(Hn.id,"-").concat(Date.now()),o(Hn)}),[o]));return Object(r.useEffect)((function(){i&&window.location.reload()}),[i]),Object(y.jsxs)("div",{children:[n&&Object(y.jsxs)("div",{children:["Error: ",n.message]}),Object(y.jsx)(C.a,{color:"primary",disabled:t||i,onClick:a,children:"Create default template"})]})},Xn=function(){var e,t=Qn({},{refetchOnWindowFocus:!1}),n=t.data,i=t.isLoading,r=t.error,o=Object(bt.i)().url,a=null!==(e=null===n||void 0===n?void 0:n.result)&&void 0!==e?e:[];return Object(y.jsx)(Ht,{isLoading:i,error:r,children:Object(y.jsx)(wn,{children:a.length?a.filter((function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.includes("jupyter")})).map((function(e){return Object(y.jsx)(Mn,{to:"".concat(o,"/").concat(e.id,"/").concat(e.version),icon:"applications",children:"".concat(e.id," v").concat(e.version)},e.id)})):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("i",{children:"No templates found"}),Object(y.jsx)(Gn,{})]})})})},Yn=function(e,t,n){var i=Rt(Ut.Jobs,Ut.Jobs.JobsApi,t,n);return Qt((function(){return i.getJobList(e)}))},Kn=function(e,t,n){var i=Rt(Ut.Jobs,Ut.Jobs.JobsApi,t,n);return Qt((function(){return i.getJob(e)}))},Zn=function(e,t,n){var i=Rt(Ut.Jobs,Ut.Jobs.JobsApi,t,n);return Qt((function(){return i.submitJob({reqSubmitJob:e})}))},$n={list:"jobs/list",details:"jobs/details",submit:"jobs/submit"},ei={orderBy:"created(desc)"},ti=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(),i=n.accessToken,r=n.basePath,o=Object(p.a)([$n.list,e,i],(function(){var t;return Yn(e,r,null!==(t=null===i||void 0===i?void 0:i.access_token)&&void 0!==t?t:"")}),Object(k.a)(Object(k.a)({},t),{},{enabled:!!i}));return o},ni=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(),i=n.accessToken,r=n.basePath,o={jobUuid:e},a=Object(p.a)([$n.details,o,i],(function(){var e;return Kn(o,r,null!==(e=null===i||void 0===i?void 0:i.access_token)&&void 0!==e?e:"")}),Object(k.a)(Object(k.a)({},t),{},{enabled:!!i}));return a},ii=function(e,t){var n=O(),i=n.basePath,o=n.accessToken,a=(null===o||void 0===o?void 0:o.access_token)||"",s=Object(Vt.a)([$n.submit,e,t,i,a],(function(e){return Zn(e,i,a)})),c=s.mutate,l=s.isLoading,u=s.isError,d=s.isSuccess,j=s.data,b=s.error,m=s.reset;return Object(r.useEffect)((function(){return m()}),[m,e,t]),{isLoading:l,isError:u,isSuccess:d,data:j,error:b,reset:m,submit:function(e){return c(e)}}},ri=function(e){var t,n,i;return null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.fileInputs)||void 0===i?void 0:i.filter((function(e){return!e.sourceUrl})))&&void 0!==t?t:[]},oi=function(e){var t,n,i;return(null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.fileInputs)||void 0===i?void 0:i.filter((function(e){return e.inputMode===Ut.Apps.FileInputModeEnum.Required})))&&void 0!==t?t:[]).map((function(e){return{name:(t=e).name,sourceUrl:t.sourceUrl,targetPath:t.targetPath,description:t.description,autoMountLocal:t.autoMountLocal};var t}))},ai=function(e,t){var n,i,r,o,a;if(function(e,t){return ri(e).filter((function(e){return e.inputMode===t}))}(e,Ut.Apps.FileInputModeEnum.Required).some((function(e){var n=t.find((function(t){return t.name===e.name}));return!n||!n.sourceUrl})))return!1;var s=ri(e).filter((function(e){return!e.sourceUrl})),c=null!==(n=t.filter((function(e){return s.some((function(t){return e.name===t.name}))})))&&void 0!==n?n:[];if(!!c.length&&c.some((function(e){return!e.sourceUrl})))return!1;var l=null!==(i=null===(r=e.jobAttributes)||void 0===r||null===(o=r.fileInputs)||void 0===o?void 0:o.map((function(e){return e.name})))&&void 0!==i?i:[];return!(null!==(a=t.filter((function(e){return!l.some((function(t){return t===e.name}))})))&&void 0!==a?a:[]).some((function(e){return!e.sourceUrl||!e.targetPath}))},si=function(e){var t,n,i;return null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.fileInputArrays)||void 0===i?void 0:i.filter((function(e){return!e.sourceUrls})))&&void 0!==t?t:[]},ci=function(e){var t,n,i;return(null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.fileInputArrays)||void 0===i?void 0:i.filter((function(e){return e.inputMode===Ut.Apps.FileInputModeEnum.Required})))&&void 0!==t?t:[]).map((function(e){return function(e){var t;return{name:e.name,sourceUrls:null!==(t=e.sourceUrls)&&void 0!==t?t:[],targetDir:e.targetDir,description:e.description}}(e)}))},li=function(e,t){var n,i,r,o,a;if(function(e,t){return si(e).filter((function(e){return e.inputMode===t}))}(e,Ut.Apps.FileInputModeEnum.Required).some((function(e){var n=t.find((function(t){return t.name===e.name}));return!n||(!n.sourceUrls||!n.sourceUrls.length)})))return!1;var s=si(e).filter((function(e){return!e.sourceUrls})),c=null!==(n=t.filter((function(e){return s.some((function(t){return e.name===t.name}))})))&&void 0!==n?n:[];if(!!c.length&&c.some((function(e){return!e.sourceUrls})))return!1;var l=null!==(i=null===(r=e.jobAttributes)||void 0===r||null===(o=r.fileInputArrays)||void 0===o?void 0:o.map((function(e){return e.name})))&&void 0!==i?i:[];return!(null!==(a=t.filter((function(e){return!l.some((function(t){return t===e.name}))})))&&void 0!==a?a:[]).some((function(e){return!e.sourceUrls||!e.targetDir}))},ui=function(e,t){var n=t.find((function(t){return t.name===e}));if(n)return n.inputMode},di=function(e){return e.map((function(e){return function(e){return{arg:e.arg,description:e.description,include:e.inputMode!==Ut.Apps.ArgInputModeEnum.IncludeOnDemand,name:e.name}}(e)}))},ji=function(e){var t,n,i,r,o,a,s,c,l,u,d,j,b,m,p,v,f,h,O,x,_,y,g,S,N=e.app;e.systems;return N?{name:"".concat(N.id,"-").concat(N.version),description:N.description,appId:N.id,appVersion:N.version,archiveOnAppError:null===(t=null===(n=N.jobAttributes)||void 0===n?void 0:n.archiveOnAppError)||void 0===t||t,archiveSystemId:null===(i=N.jobAttributes)||void 0===i?void 0:i.archiveSystemId,archiveSystemDir:null===(r=N.jobAttributes)||void 0===r?void 0:r.archiveSystemDir,nodeCount:null===(o=N.jobAttributes)||void 0===o?void 0:o.nodeCount,coresPerNode:null===(a=N.jobAttributes)||void 0===a?void 0:a.coresPerNode,jobType:N.jobType,memoryMB:null===(s=N.jobAttributes)||void 0===s?void 0:s.memoryMB,maxMinutes:null===(c=N.jobAttributes)||void 0===c?void 0:c.maxMinutes,isMpi:null===(l=N.jobAttributes)||void 0===l?void 0:l.isMpi,mpiCmd:null===(u=N.jobAttributes)||void 0===u?void 0:u.mpiCmd,cmdPrefix:null===(d=N.jobAttributes)||void 0===d?void 0:d.cmdPrefix,fileInputs:oi(N),fileInputArrays:ci(N),parameterSet:{appArgs:di(null!==(j=null===(b=N.jobAttributes)||void 0===b||null===(m=b.parameterSet)||void 0===m?void 0:m.appArgs)&&void 0!==j?j:[]),containerArgs:di(null!==(p=null===(v=N.jobAttributes)||void 0===v||null===(f=v.parameterSet)||void 0===f?void 0:f.containerArgs)&&void 0!==p?p:[]),schedulerOptions:di(null!==(h=null===(O=N.jobAttributes)||void 0===O||null===(x=O.parameterSet)||void 0===x?void 0:x.schedulerOptions)&&void 0!==h?h:[]),archiveFilter:null===(_=N.jobAttributes)||void 0===_||null===(y=_.parameterSet)||void 0===y?void 0:y.archiveFilter,envVariables:null===(g=N.jobAttributes)||void 0===g||null===(S=g.parameterSet)||void 0===S?void 0:S.envVariables}}:{}},bi=function(e){var t=e.field,n=e.error;return Object(y.jsx)("div",{children:t?Object(y.jsx)("div",{children:t}):Object(y.jsx)(ke,{type:"error",canDismiss:!1,scope:"inline",children:null!==n&&void 0!==n?n:""})})},mi=function(){var e=o.a.createContext({data:{},add:function(e){},set:function(e){},clear:function(){}});return{useBuilderContext:function(){return Object(r.useContext)(e)},Provider:function(t){var n=t.children,i=t.value,o=Object(r.useReducer)((function(e,t){var n=t.action,i=t.slice;switch(n){case"add":return Object(k.a)(Object(k.a)({},e),i);case"set":return Object(k.a)({},i);case"clear":return{};default:return Object(k.a)({},e)}}),Object(k.a)({},i)),a=Object(l.a)(o,2),s=a[0],c=a[1];Object(r.useEffect)((function(){c({action:"set",slice:i})}),[c,i]);var u={data:s,add:function(e){return c({action:"add",slice:e})},set:function(e){return c({action:"set",slice:e})},clear:function(){return c({action:"clear"})}};return Object(y.jsx)(e.Provider,{value:u,children:n})}}},pi=o.a.createContext({app:{},systems:[],schedulerProfiles:[]}),vi=mi(),fi=vi.useBuilderContext,hi=vi.Provider,Oi=function(e){var t=e.value,n=e.children,i=t.app,r=t.systems,o=t.defaultValues,a=t.schedulerProfiles;return Object(y.jsx)(pi.Provider,{value:{app:i,systems:r,schedulerProfiles:a},children:hi({value:o,children:n})})},xi=function(){var e=fi(),t=e.data,n=e.add,i=e.set,o=e.clear,a=Object(r.useContext)(pi);return{job:t,add:n,set:i,clear:o,app:a.app,systems:a.systems,schedulerProfiles:a.schedulerProfiles}},_i=function(){var e=xi().app;return Object(y.jsxs)("div",{children:[Object(y.jsxs)("h2",{children:["Launching ",e.id," v",e.version]}),Object(y.jsx)(Pt,{name:"name",required:!0,label:"Name",description:"A name for this job"}),Object(y.jsx)(Pt,{name:"description",required:!1,label:"Description",description:"A description of this job"})]})},yi=function(){var e=xi().job,t=e.name,n=e.description,i=e.appId,r=e.appVersion;return Object(y.jsxs)("div",{children:[Object(y.jsx)(bi,{field:t,error:"A job name is required"},"job-start-name-summary"),Object(y.jsx)(bi,{field:n},"job-start-description-summary"),Object(y.jsx)("div",{children:Object(y.jsxs)("i",{children:["Application: ",i," v",r]})})]})},gi=Yt.d({name:Yt.e().required().min(1).max(64),description:Yt.e()}),Si={id:"start",name:"Job Name",render:Object(y.jsx)(_i,{}),summary:Object(y.jsx)(yi,{}),generateInitialValues:function(e){var t=e.job;return{name:t.name,description:t.description}},validationSchema:gi},Ni=function(e){var t,n;return(null===(t=e.jobAttributes)||void 0===t?void 0:t.execSystemId)?{source:"app",systemId:null===(n=e.jobAttributes)||void 0===n?void 0:n.execSystemId}:{source:void 0,systemId:void 0}},Ti=function(e,t,n){var i,r,o;if(null===(i=t.jobAttributes)||void 0===i?void 0:i.execSystemLogicalQueue)return{source:"app",queue:null===(o=t.jobAttributes)||void 0===o?void 0:o.execSystemLogicalQueue};if(e.execSystemId){var a=n.find((function(t){return t.id===e.execSystemId}));if(null===a||void 0===a?void 0:a.batchDefaultLogicalQueue)return{source:"system",queue:a.batchDefaultLogicalQueue}}if(null===(r=t.jobAttributes)||void 0===r?void 0:r.execSystemId){var s=n.find((function(e){var n;return e.id===(null===(n=t.jobAttributes)||void 0===n?void 0:n.execSystemId)}));if(null===s||void 0===s?void 0:s.batchDefaultLogicalQueue)return{source:"app system",queue:s.batchDefaultLogicalQueue}}return{source:void 0,queue:void 0}},Ai=function(e,t,n){var i;if(t.jobType)return{source:"app",jobType:t.jobType};if(null===e||void 0===e?void 0:e.execSystemId){var r=n.find((function(t){return t.id===e.execSystemId}));if(null===r||void 0===r?void 0:r.canRunBatch)return{source:"system",jobType:Ut.Apps.JobTypeEnum.Batch}}if(null===(i=t.jobAttributes)||void 0===i?void 0:i.execSystemId){var o=n.find((function(e){var n;return e.id===(null===(n=t.jobAttributes)||void 0===n?void 0:n.execSystemId)}));if(null===o||void 0===o?void 0:o.canRunBatch)return{source:"app system",jobType:Ut.Apps.JobTypeEnum.Batch}}return{source:"tapis",jobType:Ut.Apps.JobTypeEnum.Fork}};!function(e){e.Complete="COMPLETE",e.ErrorNoExecSystem="ERROR_NO_EXEC_SYSTEM",e.ErrorExecSystemNotFound="ERROR_EXEC_SYSTEM_NOT_FOUND",e.ErrorExecSystemNoQueues="ERROR_EXEC_SYSTEM_NO_QUEUES",e.ErrorNoQueue="ERROR_NO_QUEUE",e.ErrorQueueNotFound="ERROR_QUEUE_NOT_FOUND"}(Xt||(Xt={}));var Ci=function(e,t,n){var i,r,o=Ni(t);if(!e.execSystemId&&!(null===o||void 0===o?void 0:o.systemId))return Xt.ErrorNoExecSystem;var a=n.find((function(t){var n;return t.id===(null!==(n=e.execSystemId)&&void 0!==n?n:null===o||void 0===o?void 0:o.systemId)}));if(!a)return Xt.ErrorExecSystemNotFound;var s=Ai(e,t,n);if(e.jobType!==Ut.Apps.JobTypeEnum.Batch&&s.jobType===Ut.Apps.JobTypeEnum.Fork)return Xt.Complete;if(!(null===(i=a.batchLogicalQueues)||void 0===i?void 0:i.length))return Xt.ErrorExecSystemNoQueues;var c=Ti(e,t,n);if(!e.execSystemLogicalQueue&&!c.queue)return Xt.ErrorNoQueue;var l=n.find((function(t){var n;return t.id===(null!==(n=e.execSystemId)&&void 0!==n?n:null===o||void 0===o?void 0:o.systemId)}));return(null===l||void 0===l||null===(r=l.batchLogicalQueues)||void 0===r?void 0:r.some((function(t){var n;return t.name===(null!==(n=e.execSystemLogicalQueue)&&void 0!==n?n:c.queue)})))?Xt.Complete:Xt.ErrorQueueNotFound},ki=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Pi=n(47),Li=n.n(Pi),Ii=function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.batchLogicalQueues)&&void 0!==t?t:[]},Mi=function(e,t){return t?e.find((function(e){return e.id===t})):void 0},wi=function(){var e=Object(Tt.j)(),t=e.setFieldValue,n=e.values,i=xi(),o=i.job,a=i.app,s=i.systems,c=Object(r.useState)(Ii(Mi(s,o.execSystemId))),u=Object(l.a)(c,2),d=u[0],j=u[1],b=Object(r.useState)(s),m=Object(l.a)(b,2),p=m[0],v=m[1],f=Object(r.useMemo)((function(){var e=Ni(a),t=e.source,i=e.systemId,r=t?"App default (".concat(i,")"):"Please select a system",o=Ti(n,a,s),c=o.source,l=o.queue,u=c?"".concat(ki(c)," default (").concat(l,")"):"Please select a queue",d=Ai(n,a,s),j=d.source,b=d.jobType;return{defaultSystemLabel:r,defaultQueueLabel:u,defaultJobTypeLabel:"".concat(ki(j)," default (").concat(b,")"),isBatch:(null===n||void 0===n?void 0:n.jobType)===Ut.Apps.JobTypeEnum.Batch||b===Ut.Apps.JobTypeEnum.Batch,selectedSystem:null===n||void 0===n?void 0:n.execSystemId}}),[n,a,s]),h=f.defaultSystemLabel,O=f.defaultQueueLabel,x=f.defaultJobTypeLabel,_=f.isBatch,g=f.selectedSystem;return Object(r.useEffect)((function(){var e,n=_?s.filter((function(e){var t;return!!(null===(t=e.batchLogicalQueues)||void 0===t?void 0:t.length)})):s;v(n),n.some((function(e){return e.id===g}))||t("execSystemId",void 0),_||t("execSystemLogicalQueue",void 0);var i=Mi(n,null!==g&&void 0!==g?g:null===(e=a.jobAttributes)||void 0===e?void 0:e.execSystemId),r=Ii(i);j(r),t("execSystemLogicalQueue",void 0)}),[s,_,a,g,t,v,j]),Object(y.jsxs)("div",{className:Li.a.item,children:[Object(y.jsxs)(Ft,{name:"execSystemId",description:"The execution system for this job",label:"Execution System",required:!0,"data-testid":"execSystemId",children:[Object(y.jsx)("option",{value:void 0,label:h}),p.map((function(e){return Object(y.jsx)("option",{value:e.id,label:e.id,"data-testid":"execSystemId-".concat(e.id)},"execsystem-select-".concat(e.id))}))]}),Object(y.jsxs)(Ft,{name:"jobType",label:"Job Type",description:"Jobs can either be Batch or Fork",required:!0,"data-testid":"jobType",children:[Object(y.jsx)("option",{value:void 0,label:x}),Object(y.jsx)("option",{value:Ut.Apps.JobTypeEnum.Batch,label:"Batch"}),Object(y.jsx)("option",{value:Ut.Apps.JobTypeEnum.Fork,label:"Fork"})]}),_&&Object(y.jsxs)(Ft,{name:"execSystemLogicalQueue",description:"The batch queue on this execution system",label:"Batch Logical Queue",required:!1,disabled:0===d.length,"data-testid":"execSystemLogicalQueue",children:[Object(y.jsx)("option",{value:void 0,label:O}),d.map((function(e){return Object(y.jsx)("option",{value:e.name,label:e.name},"queue-select-".concat(e.name))}))]})]})},Ei=function(){var e=Object(Tt.j)().errors,t=e.coresPerNode||e.maxMinutes||e.memoryMB||e.nodeCount;return Object(y.jsxs)(fn,{title:"Queue Parameters",isCollapsable:!t,children:[Object(y.jsx)(Pt,{name:"nodeCount",label:"Node Count",description:"The number of nodes to use for this job",required:!1}),Object(y.jsx)(Pt,{name:"coresPerNode",label:"Cores Per Node",description:"The number of cores to use per node",required:!1}),Object(y.jsx)(Pt,{name:"memoryMB",label:"Memory, in Megabytes",description:"The amount of memory to use per node in megabytes",required:!1}),Object(y.jsx)(Pt,{name:"maxMinutes",label:"Maximum Minutes",description:"The maximum amount of time in minutes for this job",required:!1})]})},Fi=function(){var e=Object(Tt.j)().values,t=Object(r.useMemo)((function(){return(null===e||void 0===e?void 0:e.jobType)===Ut.Apps.JobTypeEnum.Batch}),[e]);return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"Execution Options"}),Object(y.jsx)(wi,{}),t&&Object(y.jsx)(Ei,{})]})},Di=function(){var e=xi(),t=e.job,n=e.app,i=e.systems,o=t.isMpi,a=t.mpiCmd,s=t.cmdPrefix,c=Object(r.useMemo)((function(){var e,r,o,a=t.execSystemLogicalQueue,s=t.execSystemId,c=t.jobType;return{computedSystem:null!==s&&void 0!==s?s:null===(e=Ni(n))||void 0===e?void 0:e.systemId,computedQueue:null!==a&&void 0!==a?a:null===(r=Ti(t,n,i))||void 0===r?void 0:r.queue,computedJobType:null!==c&&void 0!==c?c:null===(o=Ai(t,n,i))||void 0===o?void 0:o.jobType}}),[t,n,i]),l=c.computedSystem,u=c.computedQueue,d=c.computedJobType;return Object(y.jsxs)("div",{children:[Object(y.jsx)(bi,{field:l,error:"An execution system is required"},"execution-system-id-summary"),d===Ut.Apps.JobTypeEnum.Batch&&Object(y.jsx)(bi,{field:u,error:"A logical queue is required"},"execution-system-queue-summary"),Object(y.jsx)(bi,{field:"".concat(o?"MPI Command: ".concat(null!==a&&void 0!==a?a:"system default"):"Command Prefix: ".concat(null!==s&&void 0!==s?s:"system default"))},"execution-mpi-summary")]})},qi=Yt.d({execSystemId:Yt.e(),execSystemLogicalQueue:Yt.e(),execSystemExecDir:Yt.e(),execSystemInputDir:Yt.e(),execSystemOutputDir:Yt.e(),jobType:Yt.e(),nodeCount:Yt.c(),coresPerNode:Yt.c(),memoryMB:Yt.c(),maxMinutes:Yt.c(),isMpi:Yt.b(),mpiCmd:Yt.e(),cmdPrefix:Yt.e()}),Ji={id:"execution",name:"Execution Options",render:Object(y.jsx)(Fi,{}),summary:Object(y.jsx)(Di,{}),generateInitialValues:function(e){var t=e.job;e.app,e.systems;return{execSystemId:t.execSystemId,execSystemLogicalQueue:t.execSystemLogicalQueue,jobType:t.jobType,execSystemExecDir:t.execSystemExecDir,execSystemInputDir:t.execSystemInputDir,execSystemOutputDir:t.execSystemOutputDir,nodeCount:t.nodeCount,coresPerNode:t.coresPerNode,memoryMB:t.memoryMB,maxMinutes:t.maxMinutes,isMpi:t.isMpi,mpiCmd:t.mpiCmd,cmdPrefix:t.cmdPrefix}},validateThunk:function(e){var t=e.app,n=e.systems;return function(e){var i,r,o,a=e.execSystemId,s=e.execSystemLogicalQueue,c=e.nodeCount,l=e.coresPerNode,u=e.memoryMB,d=e.maxMinutes,j=e.jobType,b={},m=Ci(e,t,n);if(m===Xt.ErrorNoExecSystem&&(b.execSystemId="This app does not have a default execution system. You must specify one for this job"),m===Xt.ErrorExecSystemNotFound&&(b.execSystemId="The specified exec system cannot be found"),m===Xt.ErrorExecSystemNoQueues&&(b.execSystemId="The specified exec system is not capable of batch jobs"),m===Xt.ErrorNoQueue&&(b.execSystemLogicalQueue="Neither the application nor the selected system specifies a default queue. You must specify one for this job"),m===Xt.ErrorQueueNotFound&&(b.execSystemLogicalQueue="The specified queue cannot be found on the selected system"),j===Ut.Apps.JobTypeEnum.Fork||(null===(i=Ai(e,t,n))||void 0===i?void 0:i.jobType)===Ut.Apps.JobTypeEnum.Fork)return b;var p=Ni(t),v=Ti(e,t,n),f=n.find((function(e){return e.id===(null!==a&&void 0!==a?a:p.systemId)}));if(!(null===f||void 0===f||null===(r=f.batchLogicalQueues)||void 0===r?void 0:r.length))return b.execSystemLogicalQueue="The selected system does not have any batch logical queues",b;var h=null===f||void 0===f||null===(o=f.batchLogicalQueues)||void 0===o?void 0:o.find((function(e){return e.name===(null!==s&&void 0!==s?s:null===v||void 0===v?void 0:v.queue)}));return h?(c&&((null===h||void 0===h?void 0:h.maxNodeCount)&&c>(null===h||void 0===h?void 0:h.maxNodeCount)&&(b.nodeCount="The maximum number of nodes for this queue is ".concat(null===h||void 0===h?void 0:h.maxNodeCount)),(null===h||void 0===h?void 0:h.minNodeCount)&&c<(null===h||void 0===h?void 0:h.minNodeCount)&&(b.nodeCount="The minimum number of nodes for this queue is ".concat(null===h||void 0===h?void 0:h.minNodeCount))),l&&((null===h||void 0===h?void 0:h.maxCoresPerNode)&&l>(null===h||void 0===h?void 0:h.maxCoresPerNode)&&(b.coresPerNode="The maximum number of cores per node for this queue is ".concat(null===h||void 0===h?void 0:h.maxCoresPerNode)),(null===h||void 0===h?void 0:h.minCoresPerNode)&&l<(null===h||void 0===h?void 0:h.minCoresPerNode)&&(b.coresPerNode="The minimum number of cores per node for this queue is ".concat(null===h||void 0===h?void 0:h.minCoresPerNode))),u&&((null===h||void 0===h?void 0:h.maxMemoryMB)&&u>(null===h||void 0===h?void 0:h.maxMemoryMB)&&(b.memoryMB="The maximum amount of memory for this queue is ".concat(null===h||void 0===h?void 0:h.maxMemoryMB," megabytes")),(null===h||void 0===h?void 0:h.minMemoryMB)&&u<(null===h||void 0===h?void 0:h.minMemoryMB)&&(b.memoryMB="The minimum amount of memory for this queue is ".concat(null===h||void 0===h?void 0:h.minMemoryMB," megabytes"))),d&&((null===h||void 0===h?void 0:h.maxMinutes)&&d>(null===h||void 0===h?void 0:h.maxMinutes)&&(b.maxMinutes="The maximum number of minutes for a job on this queue is ".concat(null===h||void 0===h?void 0:h.maxMinutes)),(null===h||void 0===h?void 0:h.minMinutes)&&d<(null===h||void 0===h?void 0:h.minMinutes)&&(b.maxMinutes="The minimum number of minutes for a job on this queue is ".concat(null===h||void 0===h?void 0:h.minMinutes))),b):(b.execSystemLogicalQueue="The specified queue does not exist on the selected execution system",b)}},validationSchema:qi},Bi=function(e){var t=e.index,n=e.name,i=e.argType,o=e.arrayHelpers,a=e.inputMode,s=Object(Tt.i)("".concat(n,".name")),c=Object(l.a)(s,1)[0],u=Object(r.useMemo)((function(){return c.value}),[c]);return Object(y.jsxs)(fn,{title:u&&u.length?u:i,className:Li.a.item,children:[Object(y.jsx)(Pt,{name:"".concat(n,".name"),required:!0,label:"Name",disabled:!!a,description:"The name for this ".concat(i," ").concat(a?"is defined in the application and cannot be changed":"")}),Object(y.jsx)(Pt,{name:"".concat(n,".arg"),required:!0,label:"Value",disabled:a===Ut.Apps.ArgInputModeEnum.Fixed,description:"A value for this ".concat(i)}),Object(y.jsx)(Pt,{name:"".concat(n,".description"),required:!1,label:"Description",disabled:a===Ut.Apps.ArgInputModeEnum.Fixed,description:"A description for this ".concat(i)}),Object(y.jsx)(Bt,{name:"".concat(n,".include"),required:!1,label:"Include",disabled:a===Ut.Apps.ArgInputModeEnum.Fixed||a===Ut.Apps.ArgInputModeEnum.Required,description:a===Ut.Apps.ArgInputModeEnum.Fixed||a===Ut.Apps.ArgInputModeEnum.Required?"This ".concat(i," must be included"):"If checked, this ".concat(i," will be included")}),Object(y.jsx)(C.a,{size:"sm",onClick:function(){return o.remove(t)},children:"Remove"})]},"".concat(i,".").concat(t))},Ui=function(e){var t=e.argSpecs,n=e.name,i=e.argType,o=Object(Tt.i)(n),a=Object(l.a)(o,1)[0],s=Object(r.useMemo)((function(){var e;return null!==(e=a.value)&&void 0!==e?e:[]}),[a]);return Object(y.jsx)(Tt.c,{name:n,render:function(e){return Object(y.jsxs)("div",{className:Li.a.array,children:[Object(y.jsx)("h3",{children:"".concat(i,"s")}),Object(y.jsx)("div",{className:Li.a["array-group"],children:s.map((function(r,o){var a=r.name?ui(r.name,t):void 0;return Object(y.jsx)(Bi,{index:o,arrayHelpers:e,name:"".concat(n,".").concat(o),argType:i,inputMode:a})}))}),Object(y.jsx)(C.a,{onClick:function(){return e.push({include:!0})},size:"sm",children:"+ Add"})]})}})},Ri=Yt.a(Yt.d({name:Yt.e(),description:Yt.e(),include:Yt.b(),arg:Yt.e().min(1).required("The argument cannot be blank")})),Qi=function(){var e=xi().app,t=Object(r.useMemo)((function(){var t,n,i;return null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.parameterSet)||void 0===i?void 0:i.appArgs)&&void 0!==t?t:[]}),[e]),n=Object(r.useMemo)((function(){var t,n,i;return null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.parameterSet)||void 0===i?void 0:i.containerArgs)&&void 0!==t?t:[]}),[e]);return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"Arguments"}),Object(y.jsx)(Ui,{name:"parameterSet.appArgs",argType:"App Argument",argSpecs:t}),Object(y.jsx)(Ui,{name:"parameterSet.containerArgs",argType:"Container Argument",argSpecs:n})]})},Vi=function(e){return e.reduce((function(e,t){return"".concat(e).concat(t.include?" ".concat(t.arg):"")}),"")},Hi=function(){var e,t,n,i,r=xi().job,o=null!==(e=null===(t=r.parameterSet)||void 0===t?void 0:t.appArgs)&&void 0!==e?e:[],a=null!==(n=null===(i=r.parameterSet)||void 0===i?void 0:i.containerArgs)&&void 0!==n?n:[];return Object(y.jsxs)("div",{children:[Object(y.jsx)(bi,{field:"App: ".concat(Vi(o))},"app-args-summary"),Object(y.jsx)(bi,{field:"Container: ".concat(Vi(a))},"container-args-summary")]})},zi=Yt.d().shape({parameterSet:Yt.d({appArgs:Ri,containerArgs:Ri,scheduleOptions:Ri})}),Wi={id:"args",name:"Arguments",render:Object(y.jsx)(Qi,{}),summary:Object(y.jsx)(Hi,{}),validationSchema:zi,generateInitialValues:function(e){var t,n,i,r=e.job;return{parameterSet:{appArgs:null===(t=r.parameterSet)||void 0===t?void 0:t.appArgs,containerArgs:null===(n=r.parameterSet)||void 0===n?void 0:n.containerArgs,schedulerOptions:null===(i=r.parameterSet)||void 0===i?void 0:i.schedulerOptions}}}},Gi=n(165),Xi=n.n(Gi),Yi=function(e){var t,n,i,r,o,a,s=null!==(t=null===(n=e.parameterSet)||void 0===n?void 0:n.schedulerOptions)&&void 0!==t?t:[];s.find((function(e){return"chargeProject"===e.name}))||(null===(i=e.parameterSet)||void 0===i||null===(r=i.schedulerOptions)||void 0===r||r.push({name:"chargeProject",description:"Charge project",include:!0,arg:"-A BCS23003"}));s.find((function(e){return"profile"===e.name}))||(null===(o=e.parameterSet)||void 0===o||null===(a=o.schedulerOptions)||void 0===a||a.push({name:"profile",description:"Tapis profile",include:!0,arg:"--tapis-profile tacc"}));var c=s.find((function(e){var t;return null===(t=e.arg)||void 0===t?void 0:t.includes("--tapis-profile")}));if(c){var l,u=null===(l=c.arg)||void 0===l?void 0:l.split(" ");if(u&&u.length>=2)return u[1]}},Ki=function(){var e=xi().schedulerProfiles,t=Object(Tt.j)(),n=t.values,i=t.setValues,o=Object(r.useCallback)((function(e){var t,r,o=null!==(t=null===(r=n.parameterSet)||void 0===r?void 0:r.schedulerOptions)&&void 0!==t?t:[];i({parameterSet:{schedulerOptions:[e].concat(Object(T.a)(o.filter((function(e){var t;return!(null===(t=e.arg)||void 0===t?void 0:t.includes("--tapis-profile"))}))))}})}),[n,i]),a=Object(r.useMemo)((function(){return Yi(n)}),[n]);return Object(y.jsxs)("div",{className:Li.a.array,children:[Object(y.jsx)("h3",{children:"Scheduler Profiles"}),e.map((function(e){var t=e.name,n=e.description,i=e.moduleLoadCommand,r=e.hiddenOptions,s=e.modulesToLoad,c=e.owner,l=e.tenant;return Object(y.jsxs)(fn,{className:Li.a["array-group"],title:"".concat(t," ").concat(t===a?"(selected)":""),children:[Object(y.jsxs)("div",{className:Xi.a["scheduler-option"],children:[Object(y.jsx)("div",{children:n}),Object(y.jsx)(Re,{data:{moduleLoadCommand:i,modulesToLoad:s,hiddenOptions:r,owner:c,tenant:l},className:Xi.a["scheduler-option-list"]})]}),Object(y.jsx)(C.a,{size:"sm",onClick:function(){return o({name:"".concat(t," Scheduler Profile"),description:n,include:!0,arg:"--tapis-profile ".concat(t)})},disabled:t===a,children:"Use This Profile"})]},"scheduler-profiles-".concat(t))}))]})},Zi=function(){var e=xi().app,t=Object(Tt.i)("parameterSet.schedulerOptions"),n=Object(l.a)(t,1)[0],i=Object(r.useMemo)((function(){var e;return null!==(e=n.value)&&void 0!==e?e:[]}),[n]),o=Object(r.useMemo)((function(){var t,n,i;return null!==(t=null===(n=e.jobAttributes)||void 0===n||null===(i=n.parameterSet)||void 0===i?void 0:i.schedulerOptions)&&void 0!==t?t:[]}),[e]);return Object(y.jsx)(Tt.c,{name:"parameterSet.schedulerOptions",render:function(e){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:Li.a.array,children:[Object(y.jsx)("h3",{children:"Scheduler Arguments"}),Object(y.jsx)("div",{className:Li.a["array-group"],children:i.map((function(t,n){var i=t.name?ui(t.name,o):void 0;return Object(y.jsx)(Bi,{index:n,arrayHelpers:e,name:"parameterSet.schedulerOptions.".concat(n),argType:"scheduler option",inputMode:i})}))}),Object(y.jsx)(C.a,{onClick:function(){return e.push({name:"",description:"",include:!0,arg:""})},size:"sm",children:"+ Add"})]}),Object(y.jsx)(Ki,{})]})}})},$i=function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"Scheduler Options"}),Object(y.jsx)(Zi,{})]})},er=function(){var e,t,n,i=xi().job,r=null!==(e=null===(t=i.parameterSet)||void 0===t?void 0:t.schedulerOptions)&&void 0!==e?e:[];return Object(y.jsxs)("div",{children:[Object(y.jsx)(bi,{field:"Scheduler Profile: ".concat(null!==(n=Yi(i))&&void 0!==n?n:"none selected")},"scheduler-profile-summary"),Object(y.jsx)(bi,{field:"Scheduler Args: ".concat(Vi(r))},"scheduler-args-summary")]})},tr=Yt.d().shape({parameterSet:Yt.d({scheduleOptions:Ri})}),nr=function(e){return!!e.name&&!!e.appId&&!!e.appVersion},ir=function(){var e,t,n,i,o=xi(),a=o.job,s=o.app,c=o.systems,l=Ci(a,s,c)===Xt.Complete&&nr(a)&&ai(s,null!==(e=a.fileInputs)&&void 0!==e?e:[])&&li(s,null!==(t=a.fileInputArrays)&&void 0!==t?t:[]),u=ii(s.id,s.version),d=u.isLoading,j=u.error,b=u.isSuccess,m=u.submit,p=u.data,v=Object(r.useCallback)((function(){m(a)}),[m,a]),f=l?b?"Successfully submitted job ".concat(null!==(n=null===p||void 0===p||null===(i=p.result)||void 0===i?void 0:i.uuid)&&void 0!==n?n:""):"The job is ready for submission":void 0;return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"Job Submission"}),Object(y.jsxs)("div",{className:Li.a.array,children:[Object(y.jsx)(bi,{field:f,error:"All required fields must be completed before the job can be submitted"}),Object(y.jsx)(Gt,{isLoading:d,error:j,success:b?" ":"",reverse:!0,children:Object(y.jsx)(C.a,{color:"primary",disabled:d||!l||b,onClick:v,children:"Submit Job"})})]}),Object(y.jsx)("div",{children:"This is a preview of the json job submission data. You may copy it for future reference."}),Object(y.jsx)(yn,{json:a})]})},rr=function(){var e,t,n=xi(),i=n.app,r=n.job,o=n.systems,a=Ci(r,i,o)&&nr(r)&&ai(i,null!==(e=r.fileInputs)&&void 0!==e?e:[])&&li(i,null!==(t=r.fileInputArrays)&&void 0!==t?t:[]);return Object(y.jsx)("div",{children:Object(y.jsx)(bi,{field:a?"The job is ready for submission":void 0,error:"All required fields must be completed before the job can be submitted"},"job-submit-summary")})},or=[Si,Ji,Wi,{id:"schedulerOptions",name:"Scheduler Options",render:Object(y.jsx)($i,{}),summary:Object(y.jsx)(er,{}),validationSchema:tr,generateInitialValues:function(e){var t;return{parameterSet:{schedulerOptions:null===(t=e.job.parameterSet)||void 0===t?void 0:t.schedulerOptions}}}},{id:"jobSubmit",name:"Job Submission",render:Object(y.jsx)(ir,{}),summary:Object(y.jsx)(rr,{}),validationSchema:{},generateInitialValues:function(){return{}}}],ar=Yt.d().shape({});function sr(e){e.steps,e.memo,e.formSubmit;var t,n,i,o,a,s,c=xi(),l=c.job,u=c.app,d=c.systems,j=ii(u.id,u.version),b=j.isLoading,m=j.error,p=j.isSuccess,v=j.submit,f=d.find((function(e){return e.systemType===Ut.Systems.SystemTypeEnum.Linux}));(l.execSystemId=null===f||void 0===f?void 0:f.id,0===(null===(t=l.parameterSet)||void 0===t||null===(n=t.schedulerOptions)||void 0===n?void 0:n.length))&&(null===(i=l.parameterSet)||void 0===i||null===(o=i.schedulerOptions)||void 0===o||o.push({arg:"-A BCS23003",name:"chargeProject",include:!0,description:"Project to charge"}),null===(a=l.parameterSet)||void 0===a||null===(s=a.schedulerOptions)||void 0===s||s.push({arg:"--tapis-profile tacc",name:"profile",include:!0,description:"The tapis-profile value set in execution system."}));var h=Object(r.useCallback)((function(e){v(l)}),[v,l]);return f?Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:"Jupyter Notebook Launcher"}),Object(y.jsx)("div",{className:Li.a.array,children:Object(y.jsx)(Gt,{isLoading:b,error:m,success:p?" ":"",children:Object(y.jsx)(Tt.e,{initialValues:{},validationSchema:ar,onSubmit:function(e){h(e)},children:function(e){e.errors,e.touched;return Object(y.jsx)(Tt.d,{children:Object(y.jsx)(C.a,{color:"primary",type:"submit",children:"Submit Job"})})}})})})]}):Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("p",{children:" No Linux system found. Please add a Linux System"})})}var cr=["generateInitialValues","validateThunk"],lr=function(e){var t=e.jobSteps,n=xi(),i=n.add,o=n.job,a=n.app,s=n.systems,c=Object(r.useCallback)((function(e){e.jobType===Ut.Apps.JobTypeEnum.Fork&&(e.execSystemLogicalQueue=void 0),e.isMpi?e.cmdPrefix=void 0:e.mpiCmd=void 0,e.parameterSet&&(e.parameterSet=Object(k.a)(Object(k.a)({},o.parameterSet),e.parameterSet)),i(e)}),[i,o]),l=Object(r.useMemo)((function(){return t.map((function(e){var t=e.generateInitialValues,n=e.validateThunk,i=Object(P.a)(e,cr);return Object(k.a)({initialValues:t({job:o,app:a,systems:s}),validate:n?n({job:o,app:a,systems:s}):void 0},i)}))}),[a,o,s,t]);return Object(y.jsx)(sr,{steps:l,memo:"".concat(a.id).concat(a.version),formSubmit:c})},ur=function(e){var t=e.appId,n=e.appVersion,i=Vn({appId:t,appVersion:n},{refetchOnWindowFocus:!1}),o=i.data,a=i.isLoading,s=i.error,c=nn({select:"allAttributes"},{refetchOnWindowFocus:!1}),l=c.data,u=c.isLoading,d=c.error,j=on({refetchOnWindowFocus:!1}),b=j.data,m=j.isLoading,p=j.error,v=null===o||void 0===o?void 0:o.result,f=Object(r.useMemo)((function(){var e;return null!==(e=null===l||void 0===l?void 0:l.result)&&void 0!==e?e:[]}),[l]),h=Object(r.useMemo)((function(){var e;return null!==(e=null===b||void 0===b?void 0:b.result)&&void 0!==e?e:[]}),[b]),O=Object(r.useMemo)((function(){return ji({app:v,systems:f})}),[v,f]);return Object(y.jsx)(Ht,{isLoading:a||u||m,error:s||d||p,children:v&&Object(y.jsx)(Oi,{value:{app:v,systems:f,defaultValues:O,schedulerProfiles:h},children:Object(y.jsx)(lr,{jobSteps:or})})})},dr=function(e){var t=e.appId,n=e.appVersion,i=Object(y.jsx)(jn,{type:"sub-header",children:"Job Launcher"}),r=Object(y.jsx)("div",{style:{flex:1},children:Object(y.jsx)(ur,{appId:t,appVersion:n})});return Object(y.jsx)(ln,{top:i,right:r})},jr=o.a.memo(dr),br=function(){var e=Object(bt.i)().path;return Object(y.jsxs)(bt.d,{children:[Object(y.jsx)(bt.b,{path:"".concat(e),exact:!0,children:Object(y.jsx)(Ie,{type:"info",children:"Select an notebook template from the list."})}),Object(y.jsx)(bt.b,{path:"".concat(e,"/:appId/:appVersion"),render:function(e){var t=e.match.params,n=t.appVersion,i=t.appId;return Object(y.jsx)(jr,{appId:i,appVersion:n})}})]})},mr=function(){var e=Object(y.jsx)(jn,{children:Object(y.jsx)("div",{children:"Notebook templates"})}),t=Object(y.jsx)(bn,{children:Object(y.jsx)(Xn,{})}),n=Object(y.jsx)(mn,{children:Object(y.jsx)(br,{})});return Object(y.jsx)(ln,{top:e,left:t,right:n})},pr=function(){var e=qn(),t=e.login,n=e.isLoading,i=e.error,r=O().accessToken,o=Yt.d({username:Yt.e().required(),password:Yt.e().required()});return Object(y.jsx)(Tt.e,{initialValues:{username:"",password:""},validationSchema:o,onSubmit:function(e){var n=e.username,i=e.password;return t(n,i)},children:Object(y.jsxs)(Tt.d,{children:[Object(y.jsx)(Pt,{name:"username",label:"Username",required:!0,description:"Your TAPIS username"}),Object(y.jsx)(Pt,{name:"password",label:"Password",required:!0,description:"Your TAPIS password",type:"password"}),Object(y.jsx)(Gt,{isLoading:n,error:i,success:r&&"Successfully logged in",children:Object(y.jsx)(C.a,{type:"submit",className:"btn btn-primary",disabled:n||null!=r,children:"Log In"})})]})})},vr=function(){var e=O().accessToken,t=(Object(bt.h)().state||{from:{pathname:"/"}}).from;return(null===e||void 0===e?void 0:e.access_token)?Object(y.jsx)(bt.a,{to:t}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(ae,{children:"Login"}),Object(y.jsx)("div",{className:"container",children:Object(y.jsx)(pr,{})})]})},fr=n(914),hr=n(915),Or=n(916),xr=n(85),_r=n.n(xr),yr=(n(852),function(e){var t=e.icon,n=e.link,i=e.counter,r=e.name,o=e.text,a=e.loading;return Object(y.jsxs)(de.a,{className:_r.a.card,children:[Object(y.jsx)(je.a,{children:Object(y.jsxs)("div",{className:_r.a["card-header"],children:[Object(y.jsx)("div",{children:Object(y.jsx)(ve,{name:t,className:"dashboard__card-icon"})}),Object(y.jsx)("div",{children:r})]})}),Object(y.jsxs)(me.a,{children:[Object(y.jsx)(fr.a,{tag:"h5",children:a?Object(y.jsx)(M,{placement:"inline"}):Object(y.jsx)("div",{children:i})}),Object(y.jsx)(hr.a,{children:o})]}),Object(y.jsxs)(Or.a,{className:_r.a["card-footer"],children:[Object(y.jsxs)(c.b,{to:n,children:["Go to ",r]}),Object(y.jsx)(ve,{name:"push-right"})]})]})}),gr=function(){var e,t,n,i,r,o,a,s,l=O(),u=l.accessToken,d=l.claims,j=nn({}),b=ti({}),m=Qn({select:"jobAttributes,version"});return Object(y.jsxs)("div",{children:[Object(y.jsxs)(ae,{className:"dashboard__section-header",children:["Dashboard for ",d["tapis/tenant_id"]]}),Object(y.jsx)("div",{className:_r.a.cards,children:u?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(yr,{icon:"data-files",name:"Systems",text:"View TAPIS systems",link:"/systems",counter:"".concat(null===j||void 0===j||null===(e=j.data)||void 0===e||null===(t=e.result)||void 0===t?void 0:t.length," systems"),loading:null===j||void 0===j?void 0:j.isLoading}),Object(y.jsx)(yr,{icon:"folder",name:"Files",text:"Access files available on TAPIS systems",link:"/files",counter:"Files available on ".concat(null===j||void 0===j||null===(n=j.data)||void 0===n||null===(i=n.result)||void 0===i?void 0:i.length," systems"),loading:null===j||void 0===j?void 0:j.isLoading}),Object(y.jsx)(yr,{icon:"applications",name:"Applications",text:"View TAPIS applications and launch jobs",link:"/apps",counter:"".concat(null===m||void 0===m||null===(r=m.data)||void 0===r||null===(o=r.result)||void 0===o?void 0:o.length," apps"),loading:null===m||void 0===m?void 0:m.isLoading}),Object(y.jsx)(yr,{icon:"jobs",name:"Jobs",text:"View status and details for previously launched TAPIS jobs",link:"/jobs",counter:"".concat(null===b||void 0===b||null===(a=b.data)||void 0===a||null===(s=a.result)||void 0===s?void 0:s.length," jobs"),loading:null===b||void 0===b?void 0:b.isLoading})]}):Object(y.jsxs)(de.a,{children:[Object(y.jsx)(je.a,{children:Object(y.jsxs)("div",{className:_r.a["card-header"],children:[Object(y.jsx)("div",{children:Object(y.jsx)(ve,{name:"user",className:"dashboard__card-icon"})}),Object(y.jsx)("div",{children:"You are not logged in"})]})}),Object(y.jsx)(me.a,{children:Object(y.jsx)(fr.a,{children:"Please log in to use TAPIS"})}),Object(y.jsxs)(Or.a,{className:_r.a["card-footer"],children:[Object(y.jsx)(c.b,{to:"/login",children:"Proceed to login"}),Object(y.jsx)(ve,{name:"push-right"})]})]})})]})},Sr=function(){var e,t=ti(),n=t.data,i=t.isLoading,r=t.error,o=Object(bt.i)().url,a=null!==(e=null===n||void 0===n?void 0:n.result)&&void 0!==e?e:[];return Object(y.jsx)(Ht,{isLoading:i,error:r,children:Object(y.jsx)(wn,{children:a.length?a.map((function(e){return Object(y.jsx)(Mn,{to:"".concat(o,"/").concat(e.uuid),icon:"jobs",children:"".concat(e.name," - (").concat(e.status,")")},e.uuid)})):Object(y.jsx)("i",{children:"No jobs found"})})})},Nr=function(e){var t=e.jobUuid,n=ni(t),i=n.data,r=n.isLoading,o=n.error,a=null===i||void 0===i?void 0:i.result;return Object(y.jsxs)(Ht,{isLoading:r,error:o,children:[Object(y.jsx)("h3",{children:null===a||void 0===a?void 0:a.name}),Object(y.jsx)("h5",{children:null===a||void 0===a?void 0:a.uuid}),a&&Object(y.jsx)(Re,{data:a})]})},Tr=mi(),Ar=(Tr.useBuilderContext,Tr.Provider,Yt.d({name:Yt.e().required().min(1).max(64),description:Yt.e()}),n(39),Yt.d({execSystemId:Yt.e(),execSystemLogicalQueue:Yt.e(),execSystemExecDir:Yt.e(),execSystemInputDir:Yt.e(),execSystemOutputDir:Yt.e(),jobType:Yt.e(),nodeCount:Yt.c(),coresPerNode:Yt.c(),memoryMB:Yt.c(),maxMinutes:Yt.c(),isMpi:Yt.b(),mpiCmd:Yt.e(),cmdPrefix:Yt.e()}),Yt.a(Yt.d({name:Yt.e(),description:Yt.e(),include:Yt.b(),arg:Yt.e().min(1).required("The argument cannot be blank")}))),Cr=(Yt.d().shape({parameterSet:Yt.d({appArgs:Ar,containerArgs:Ar,scheduleOptions:Ar})}),Yt.d().shape({parameterSet:Yt.d({envVariables:Yt.a(Yt.d({key:Yt.e().min(1).required("A key name is required for this environment variable"),value:Yt.e().required("A value is required for this environment variable")}))})}),n(166),Yt.d().shape({parameterSet:Yt.d({scheduleOptions:Ar})}),Yt.d().shape({archiveOnAppError:Yt.b(),archiveSystemId:Yt.e(),archiveSystemDir:Yt.e(),parameterSet:Yt.d({archiveFilter:Yt.d({includes:Yt.a(Yt.e().min(1).required("A pattern must be specified for this include")),excludes:Yt.a(Yt.e().min(1).required("A pattern must be specified for this exclude")),includeLaunchFiles:Yt.b()})})}),function(e){var t=e.jobUuid,n=Object(y.jsx)(jn,{type:"sub-header",children:"Job Details"}),i=Object(y.jsx)("div",{style:{flex:1},children:Object(y.jsx)(Nr,{jobUuid:t})});return Object(y.jsx)(ln,{top:n,right:i})}),kr=function(){var e=Object(bt.i)().path;return Object(y.jsxs)(bt.d,{children:[Object(y.jsx)(bt.b,{path:"".concat(e),exact:!0,children:Object(y.jsx)(Ie,{type:"info",children:"Select a job from the list."})}),Object(y.jsx)(bt.b,{path:"".concat(e,"/:jobUuid"),render:function(e){var t=e.match.params.jobUuid;return Object(y.jsx)(Cr,{jobUuid:t})}})]})},Pr=function(){var e=Object(y.jsx)(jn,{children:Object(y.jsx)("div",{children:"Jobs"})}),t=Object(y.jsx)(bn,{children:Object(y.jsx)(Sr,{})}),n=Object(y.jsx)(mn,{children:Object(y.jsx)(kr,{})});return Object(y.jsx)(ln,{top:e,left:t,right:n})},Lr=function(){var e,t=Object(bt.i)().url,n=nn(),i=n.data,r=n.isLoading,o=n.error,a=null!==(e=null===i||void 0===i?void 0:i.result)&&void 0!==e?e:[];return Object(y.jsx)(Ht,{isLoading:r,error:o,children:Object(y.jsx)(wn,{children:a.length?a.map((function(e){return Object(y.jsx)(Mn,{to:"".concat(t,"/").concat(e.id),icon:"data-files",children:"".concat(e.id," (").concat(e.host,")")},e.id)})):Object(y.jsx)("i",{children:"No systems found"})})})},Ir=function(e){var t=e.systemId,n=Object(y.jsx)(jn,{type:"sub-header",children:"System Details"}),i=Object(y.jsx)("div",{style:{flex:1},children:Object(y.jsx)(an,{systemId:t})});return Object(y.jsx)(ln,{top:n,right:i})},Mr=function(){var e=Object(bt.i)().path;return Object(y.jsxs)(bt.d,{children:[Object(y.jsx)(bt.b,{path:"".concat(e),exact:!0,children:Object(y.jsx)(Ie,{type:"info",children:"Select a system from the list."})}),Object(y.jsx)(bt.b,{path:"".concat(e,"/:systemId"),render:function(e){var t=e.match.params.systemId;return Object(y.jsx)(Ir,{systemId:t})}})]})},wr=function(){var e=Object(y.jsx)(jn,{children:Object(y.jsx)("div",{children:"System List"})}),t=Object(y.jsx)(bn,{children:Object(y.jsx)(Lr,{})}),n=Object(y.jsx)(mn,{children:Object(y.jsx)(Mr,{})});return Object(y.jsx)(ln,{top:e,left:t,right:n})},Er=function(){var e=qn().logout;return Object(y.jsxs)(bt.d,{children:[Object(y.jsx)(bt.b,{exact:!0,path:"/",children:Object(y.jsx)(gr,{})}),Object(y.jsx)(bt.b,{path:"/login",children:Object(y.jsx)(vr,{})}),Object(y.jsx)(bt.b,{path:"/logout",render:function(){return e(),Object(y.jsx)(bt.a,{to:"/login"})}}),Object(y.jsx)(pt,{path:"/systems",children:Object(y.jsx)(wr,{})}),Object(y.jsx)(pt,{path:"/apps",children:Object(y.jsx)(mr,{})}),Object(y.jsx)(pt,{path:"/jobs",children:Object(y.jsx)(Pr,{})})]})},Fr=n(919),Dr=n(930),qr=n(86),Jr=n.n(qr),Br=function(e){var t=e.notification;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:Jr.a["notification-toast-icon-wrapper"],children:Object(y.jsx)(ve,{name:t.icon,className:"ERROR"===t.status?Jr.a["toast-is-error"]:""})}),Object(y.jsx)("div",{className:Jr.a["notification-toast-content"],children:Object(y.jsx)("span",{children:t.message})})]})},Ur=function(){var e=Vr(),t=e.notifications,n=e.markread,i=Object(r.useState)(!1),a=Object(l.a)(i,2),s=a[0],c=a[1],u=Object(r.useState)(null),d=Object(l.a)(u,2),j=d[0],b=d[1],m=o.a.useState(void 0),p=Object(l.a)(m,2),v=p[0],f=p[1];Object(r.useEffect)((function(){t.length&&!j?(b(Object(k.a)({},t[0])),f((function(){return function(e){return Object(y.jsx)(Dr.a,Object(k.a)(Object(k.a)({},e),{},{direction:"right"}))}})),c(!0)):t.length&&j&&s&&(c(!1),n(null===j||void 0===j?void 0:j.id),b(Object(k.a)({},t[0])),f((function(){return function(e){return Object(y.jsx)(Dr.a,Object(k.a)(Object(k.a)({},e),{},{direction:"right"}))}})),c(!0))}),[t]);return j&&!j.read?Object(y.jsx)(Fr.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:v,open:s,autoHideDuration:3500,onClose:function(e,t){"clickaway"!==t&&c(!1)},TransitionProps:{onExited:function(){b(null),n(null===j||void 0===j?void 0:j.id)}},classes:{anchorOriginBottomLeft:Jr.a["notification-toast-container"]},ContentProps:{classes:{root:Jr.a["notification-toast"],message:Jr.a["notification-toast-body"]}},message:Object(y.jsx)(Br,{notification:j.notification})},j?j.id:void 0):null},Rr={notifications:[],dispatch:function(){}},Qr=o.a.createContext(Rr),Vr=function(){var e=Object(r.useContext)(Qr),t=e.notifications,n=e.dispatch;return{notifications:t,add:function(e){var t=Object(A.a)();return n({operation:"add",notification:e,id:t}),t},markread:function(e){n({operation:"markread",id:e})},remove:function(e){n({operation:"remove",id:e})},set:function(e,t){n({operation:"set",id:e,notification:t})}}},Hr=function(e,t){var n=t.operation,i=t.notification,r=t.id;if("add"===n){if(!i)throw new Error("notification field missing");return[{notification:i,id:r,read:!1}].concat(Object(T.a)(e))}var o=e.findIndex((function(e){return e.id===r}));if(-1===o)throw new Error("Could not find notification with id ".concat(r));if("markread"===n)return e[o].read=!0,Object(T.a)(e);if("set"===n){if(!i)throw new Error("notification field missing");return e[o].notification=Object(k.a)({},i),Object(T.a)(e)}return"remove"===n?(e.splice(o,1),Object(T.a)(e)):e},zr=function(e){var t=e.children,n=Object(r.useReducer)(Hr,[]),i=Object(l.a)(n,2),o={notifications:i[0],dispatch:i[1]};return Object(y.jsxs)(Qr.Provider,{value:o,children:[Object(y.jsx)(Ur,{}),t]})},Wr=function(e,t,n){var i=Rt(Ut.Tenants,Ut.Tenants.TenantsApi,t,n);return Qt((function(){return i.listTenants(e)}))},Gr={list:"tenants/list"},Xr={},Yr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=O(),i=n.accessToken,r=n.basePath,o=Object(p.a)([Gr.list,e,i],(function(){return Wr(e,r,(null===i||void 0===i?void 0:i.access_token)||"")}),Object(k.a)(Object(k.a)({},t),{},{enabled:!!i}));return o},Kr=(n(853),n(927)),Zr=n(928),$r=n(929),eo=n(918),to=function(){var e,t=O().claims,n=Yr(),i=n.data,o=n.isLoading,a=n.error,s=null!==(e=null===i||void 0===i?void 0:i.result)&&void 0!==e?e:[],c=Object(bt.g)(),u=Object(r.useState)(!1),d=Object(l.a)(u,2),j=d[0],b=d[1],m=qn().logout,p=Object(y.jsxs)("div",{className:"tapis-ui__header",children:[Object(y.jsx)("div",{children:"TapisUI"}),Object(y.jsx)("div",{}),Object(y.jsx)("div",{children:t.sub&&Object(y.jsxs)(Kr.a,{size:"sm",isOpen:j,toggle:function(){return b(!j)},className:"dropdown-button",children:[Object(y.jsx)(Zr.a,{caret:!0,children:t.sub}),Object(y.jsxs)($r.a,{style:{maxHeight:"50vh",overflowY:"scroll"},children:[Object(y.jsx)(eo.a,{header:!0,children:"Tenants"}),Object(y.jsx)(eo.a,{divider:!0}),Object(y.jsx)(Ht,{isLoading:o,error:a,children:s.map((function(e){return Object(y.jsx)(eo.a,{onClick:function(){m(),window.location.href=e.base_url+"/tapis-ui/"},children:e.tenant_id})}))}),Object(y.jsx)(eo.a,{divider:!0}),Object(y.jsx)(eo.a,{onClick:function(){return c.push("/logout")},children:"Logout"})]})]})})]}),v=Object(y.jsx)("div",{className:"workbench-content",children:Object(y.jsx)(Er,{})});return Object(y.jsx)(zr,{children:Object(y.jsx)("div",{style:{display:"flex",flexGrow:1,height:"100vh"},children:Object(y.jsx)(ln,{top:p,left:Object(y.jsx)(En,{}),right:v})})})},no=(n(871),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,931)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),o(e),a(e)}))});s.a.render(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsx)(g,{basePath:function(){console.log(window.location.href);var e=window.location.href.replace("/tapis-ui/","").split("#")[0];return/127\.0\.0\.1|localhost|0\.0\.0\.0/.test(e),"https://tacc.tapis.io"}(),children:Object(y.jsx)(c.a,{children:Object(y.jsx)(to,{})})})}),document.getElementById("react-root")),no()},92:function(e,t,n){e.exports={"form-field__label":"FieldWrapperFormik_form-field__label__12sZb","form-field__help":"FieldWrapperFormik_form-field__help__1XKbr","form-field__validation-error":"FieldWrapperFormik_form-field__validation-error__n8UUS",hidden:"FieldWrapperFormik_hidden__2lmNK"}},94:function(e,t,n){e.exports={box:"Breadcrumbs_box__3k9X9",fragment:"Breadcrumbs_fragment__1MgSp",link:"Breadcrumbs_link__17cDm"}},95:function(e,t,n){e.exports={input:"TextCopyField_input__1fztk bootstrap_form_form-control__3JyGg","copy-button":"TextCopyField_copy-button__IUKh4 c-button_c-button--secondary__22Cay","is-copied":"TextCopyField_is-copied__18hMg",button__icon:"TextCopyField_button__icon__aIDYM c-button_c-button__icon--before__2PDTf"}},96:function(e,t,n){e.exports={"file-list":"FileListing_file-list__3wKB2","file-list-select":"FileListing_file-list-select__13QfA",link:"FileListing_link__2fi8N",selected:"FileListing_selected__3F9id","select-all":"FileListing_select-all__1TgE2"}},97:function(e,t,n){e.exports={body:"LayoutSections_body__MIAF2",constrain:"LayoutSections_constrain__O1u_3",nav:"LayoutSections_nav__1qrzp",detail:"LayoutSections_detail__35AJZ","sub-header":"LayoutSections_sub-header__NJoO1"}},98:function(e,t,n){e.exports={"nav-list":"Navbar_nav-list__3MPLr","nav-link":"Navbar_nav-link__3WfXQ",active:"Navbar_active__1wiRk","nav-text":"Navbar_nav-text__2CNK9","nav-content":"Navbar_nav-content__1z1nH"}}},[[872,1,2]]]);
//# sourceMappingURL=main.f46c8919.chunk.js.map